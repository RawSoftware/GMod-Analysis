AddCSLuaFile()  SWEP.PrintName = "'Reaper' UMP" SWEP.Description = "A hard hitting SMG that provides a short duration stacking damage buff if you earn a kill."  SWEP.Slot = 2 SWEP.SlotPos = 0  if CLIENT then     SWEP.ViewModelFlip = false     SWEP.ViewModelFOV = 75      SWEP.HUD3DBone = "v_weapon.ump45_Release"     SWEP.HUD3DPos = Vector(-1.5, -3, 2)     SWEP.HUD3DAng = Angle(0, 0, 0)     SWEP.HUD3DScale = 0.02     SWEP.VMPos = Vector(-1, -7, 0.3)     SWEP.VMAng = Vector(2, 0, 0) end  SWEP.Base = "weapon_zs_base" local BaseClass = baseclass.Get("weapon_zs_base")  SWEP.HoldType = "ar2"  SWEP.ViewModel = "models/weapons/cstrike/c_smg_ump45.mdl" SWEP.WorldModel = "models/weapons/w_smg_ump45.mdl" SWEP.UseHands = true  SWEP.Primary.Sound = Sound(")weapons/ump45/ump45-1.wav") SWEP.Primary.Damage = 19.8 SWEP.Primary.NumShots = 1 SWEP.Primary.Delay = 0.12  SWEP.Primary.ClipSize = 30 SWEP.Primary.Automatic = true SWEP.Primary.Ammo = "smg1" GAMEMODE:SetupDefaultClip(SWEP.Primary)  SWEP.Primary.Gesture = ACT_HL2MP_GESTURE_RANGE_ATTACK_AR2 SWEP.ReloadGesture = ACT_HL2MP_GESTURE_RELOAD_AR2  SWEP.ConeMax = 4 SWEP.ConeMin = 2.1  SWEP.WalkSpeed = SPEED_NORMAL  SWEP.ReloadSpeed = 1.05  SWEP.Tier = 4  SWEP.TreatDamageTypeForRounds = DMG_DIRECT  SWEP.IronsightsMultiplier = 0.75 SWEP.IronSightsPos = Vector(-3, -3, 3) SWEP.IronSightsAng = Vector(-1, 0.2, 2.55)  SWEP.FireAnimSpeed = 0.7 SWEP.IronsightAnimSpeed = 0.5  SWEP.FireModes = 2 SWEP.FireModeNames = {"Full-Auto", "Semi-Auto"} SWEP.FireModeNames3D = {"AUTO", "SEMI"}  SWEP.ResistanceAmmoAs = "highsmg" SWEP.ReloadConsumption = 0.88  SWEP.HeadshotMulti = 2  SWEP.BuffDuration = 10  GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_FIRE_DELAY, -0.015) GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_CLIP_SIZE, 3, 1) GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_RELOAD_SPEED, 0.07, 1)  local branch = GAMEMODE:AddNewRemantleBranch(SWEP, 1, "'Greaser' Command SMG", "Does not build reaper stacks, less maximum daamge. At maximum assists, boosts allies with strength.", function(wept)  wept.Primary.Damage = wept.Primary.Damage * 21.5/19.8  wept.Primary.ClipSize = 32   wept.HUD3DBone = "v_weapon.ump45_Release"  wept.HUD3DPos = Vector(-2.1, -3, -4)  wept.HUD3DAng = Angle(0, 0, 0)  wept.HUD3DScale = 0.025   wept.ShowViewModel = false  wept.ShowWorldModel = false      wept.ResistanceAmmoAs = nil     wept.ReloadConsumption = nil   wept.ViewModelBoneMods = {  ["v_weapon.ump45_Parent"] = { scale = Vector(0.009, 0.009, 0.009), pos = Vector(0, 0, 0), angle = Angle(0, 0, 0) }  }   wept.WeaponBuildup = {  Colour = {150, 150, 30, 255},  Name = "Assists"  }      wept.VElements = {         ["arma2"] = { type = "Model", model = "models/props_c17/signpole001.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 0, 12.444), angle = Angle(0, 0, 90), size = Vector(0.569, 0.569, 0.046), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["3+"] = { type = "Model", model = "models/props_trainstation/Ceiling_Arch001a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 1.427, 10.199), angle = Angle(180, 0, -90), size = Vector(0.215, 0.064, 0.017), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2+++++"] = { type = "Model", model = "models/hunter/tubes/circle4x4.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 0, 10.619), angle = Angle(0, 0, 0), size = Vector(0.013, 0.013, 2.085), color = Color(255, 255, 255, 255), surpresslightning = false, material = "phoenix_storms/metalbox2", skin = 0, bodygroup = {} },         ["arma2+"] = { type = "Model", model = "models/props_junk/PopCan01a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "arma2", pos = Vector(0, 0, 3.546), angle = Angle(0, 0, 0), size = Vector(0.388, 0.388, 0.43), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["3+++"] = { type = "Model", model = "models/props_junk/CinderBlock01a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 2.43, 6.223), angle = Angle(-8.848, 90, 0), size = Vector(0.172, 0.165, 0.097), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2+++"] = { type = "Model", model = "models/hunter/tubes/tube1x1x2.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 0, 12.991), angle = Angle(0, 0, 0), size = Vector(0.054, 0.054, 0.026), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["4++"] = { type = "Model", model = "models/props_docks/dock01_cleat01a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, -1.265, 7.472), angle = Angle(180, 0, -90), size = Vector(0.037, 0.037, 0.037), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["arma"] = { type = "Model", model = "models/weapons/w_pist_fiveseven.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 9.272, -0.551), angle = Angle(90, -90, 0), size = Vector(1.049, 1.457, 1.335), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["3++"] = { type = "Model", model = "models/props_junk/CinderBlock01a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 0.578, 11.159), angle = Angle(0, 90, 0), size = Vector(0.158, 0.158, 0.356), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2++"] = { type = "Model", model = "models/hunter/tubes/circle4x4.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 0, 0.441), angle = Angle(0, 0, 0), size = Vector(0.013, 0.013, 2.171), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["1"] = { type = "Model", model = "models/props_c17/signpole001.mdl", bone = "v_weapon.ump45_Parent", rel = "", pos = Vector(0, -6.54, 0), angle = Angle(180, 0, 0), size = Vector(0.008, 0.008, 0.008), color = Color(255, 255, 255, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },         ["bolt+"] = { type = "Model", model = "models/props_junk/PopCan01a.mdl", bone = "v_weapon.ump45_Bolt", rel = "bolt", pos = Vector(0, 0, 2.029), angle = Angle(0, 0, 0), size = Vector(0.206, 0.206, 0.136), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2++++++"] = { type = "Model", model = "models/hunter/tubes/tube1x1x2d.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 0, 8.024), angle = Angle(0, 129.667, 0), size = Vector(0.054, 0.054, 0.052), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["4+"] = { type = "Model", model = "models/props_c17/signpole001.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, -0.673, 14.779), angle = Angle(180, 0, -90), size = Vector(0.071, 0.071, 0.008), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["mag"] = { type = "Model", model = "models/Items/BoxSRounds.mdl", bone = "v_weapon.ump45_Clip", rel = "", pos = Vector(0, 3.088, -2.31), angle = Angle(0, 0, 8.847), size = Vector(0.199, 0.469, 0.195), color = Color(255, 255, 255, 255), surpresslightning = false, material = "phoenix_storms/metalbox2", skin = 0, bodygroup = {} },         ["2"] = { type = "Model", model = "models/hunter/tubes/tube1x1x2.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, -0.076, -2.791), angle = Angle(0, 0, 0), size = Vector(0.048, 0.048, 0.097), color = Color(255, 255, 255, 255), surpresslightning = false, material = "phoenix_storms/metalbox2", skin = 0, bodygroup = {} },         ["2+++++++"] = { type = "Model", model = "models/props_wasteland/laundry_washer003.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 0, 1.985), angle = Angle(-90, 90, 0), size = Vector(0.112, 0.054, 0.054), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["3"] = { type = "Model", model = "models/props_junk/CinderBlock01a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 1.072, 2.266), angle = Angle(0, 90, 0), size = Vector(0.238, 0.196, 0.446), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["bolt"] = { type = "Model", model = "models/props_c17/signpole001.mdl", bone = "v_weapon.ump45_Bolt", rel = "", pos = Vector(0, 0.061, -1.112), angle = Angle(90, 0, -33.668), size = Vector(0.194, 0.194, 0.017), color = Color(255, 255, 255, 255), surpresslightning = false, material = "phoenix_storms/metalbox2", skin = 0, bodygroup = {} },         ["2++++++++"] = { type = "Model", model = "models/props_wasteland/laundry_washer003.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 0, 14.166), angle = Angle(-90, 90, 0), size = Vector(0.019, 0.05, 0.05), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2++++"] = { type = "Model", model = "models/hunter/tubes/tube1x1x2b.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 0, 8.024), angle = Angle(0, -29.344, 0), size = Vector(0.054, 0.054, 0.052), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["4"] = { type = "Model", model = "models/hunter/tubes/tube2x2xtb.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, -1.808, 14.77), angle = Angle(180, 0, -90), size = Vector(0.013, 0.013, 0.013), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2+"] = { type = "Model", model = "models/hunter/tubes/tube1x1x2.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "1", pos = Vector(0, 0, -2.791), angle = Angle(0, 0, 0), size = Vector(0.016, 0.016, 0.202), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} }     }      wept.WElements = {         ["arma2"] = { type = "Model", model = "models/props_c17/signpole001.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 0, 12.444), angle = Angle(0, 0, 90), size = Vector(0.569, 0.569, 0.046), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["3+"] = { type = "Model", model = "models/props_trainstation/Ceiling_Arch001a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 1.427, 10.199), angle = Angle(180, 0, -90), size = Vector(0.215, 0.064, 0.017), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2+++++"] = { type = "Model", model = "models/hunter/tubes/circle4x4.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 0, 10.619), angle = Angle(0, 0, 0), size = Vector(0.013, 0.013, 2.085), color = Color(255, 255, 255, 255), surpresslightning = false, material = "phoenix_storms/metalbox2", skin = 0, bodygroup = {} },         ["arma2+"] = { type = "Model", model = "models/props_junk/PopCan01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "arma2", pos = Vector(0, 0, 3.546), angle = Angle(0, 0, 0), size = Vector(0.388, 0.388, 0.43), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["3+++"] = { type = "Model", model = "models/props_junk/CinderBlock01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 2.43, 6.223), angle = Angle(-8.848, 90, 0), size = Vector(0.172, 0.165, 0.097), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2+++"] = { type = "Model", model = "models/hunter/tubes/tube1x1x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 0, 12.991), angle = Angle(0, 0, 0), size = Vector(0.054, 0.054, 0.026), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["4++"] = { type = "Model", model = "models/props_docks/dock01_cleat01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, -1.265, 7.472), angle = Angle(180, 0, -90), size = Vector(0.037, 0.037, 0.037), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["mag"] = { type = "Model", model = "models/Items/BoxSRounds.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 6.157, 5.765), angle = Angle(0, 0, -8.721), size = Vector(0.199, 0.469, 0.195), color = Color(255, 255, 255, 255), surpresslightning = false, material = "phoenix_storms/metalbox2", skin = 0, bodygroup = {} },         ["3++"] = { type = "Model", model = "models/props_junk/CinderBlock01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 0.578, 11.159), angle = Angle(0, 90, 0), size = Vector(0.158, 0.158, 0.356), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2++"] = { type = "Model", model = "models/hunter/tubes/circle4x4.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 0, 0.441), angle = Angle(0, 0, 0), size = Vector(0.013, 0.013, 2.171), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["1"] = { type = "Model", model = "models/props_c17/signpole001.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(3.015, 1.605, -5.917), angle = Angle(0, -88.911, -90), size = Vector(0.008, 0.008, 0.008), color = Color(255, 255, 255, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },         ["2++++++"] = { type = "Model", model = "models/hunter/tubes/tube1x1x2d.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 0, 8.024), angle = Angle(0, 129.667, 0), size = Vector(0.054, 0.054, 0.052), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["arma"] = { type = "Model", model = "models/weapons/w_pist_fiveseven.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 9.272, -0.551), angle = Angle(90, -90, 0), size = Vector(1.049, 1.457, 1.335), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2++++"] = { type = "Model", model = "models/hunter/tubes/tube1x1x2b.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 0, 8.024), angle = Angle(0, -29.344, 0), size = Vector(0.054, 0.054, 0.052), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2+++++++"] = { type = "Model", model = "models/props_wasteland/laundry_washer003.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 0, 1.985), angle = Angle(-90, 90, 0), size = Vector(0.112, 0.054, 0.054), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["3"] = { type = "Model", model = "models/props_junk/CinderBlock01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 1.072, 2.266), angle = Angle(0, 90, 0), size = Vector(0.238, 0.196, 0.446), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2++++++++"] = { type = "Model", model = "models/props_wasteland/laundry_washer003.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 0, 14.166), angle = Angle(-90, 90, 0), size = Vector(0.019, 0.05, 0.05), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2"] = { type = "Model", model = "models/hunter/tubes/tube1x1x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, -0.076, -2.791), angle = Angle(0, 0, 0), size = Vector(0.048, 0.048, 0.097), color = Color(255, 255, 255, 255), surpresslightning = false, material = "phoenix_storms/metalbox2", skin = 0, bodygroup = {} },         ["4"] = { type = "Model", model = "models/hunter/tubes/tube2x2xtb.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, -1.808, 14.77), angle = Angle(180, 0, -90), size = Vector(0.013, 0.013, 0.013), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["4+"] = { type = "Model", model = "models/props_c17/signpole001.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, -0.673, 14.779), angle = Angle(180, 0, -90), size = Vector(0.071, 0.071, 0.008), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} },         ["2+"] = { type = "Model", model = "models/hunter/tubes/tube1x1x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "1", pos = Vector(0, 0, -2.791), angle = Angle(0, 0, 0), size = Vector(0.016, 0.016, 0.202), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/gibs/metalgibs/metal_gibs", skin = 0, bodygroup = {} }     }   function wept:OnAssist(zombie)  local assister = self:GetOwner()   if assister:IsValid() then  self:SetWeaponBuildup(math.min(1, self:GetWeaponBuildup() + 0.2))  end  end   function wept:OnZombieKilled()  end   function wept:ShootBullets(damage, shots, cone)  if SERVER and self:GetWeaponBuildup() >= 1 then  local owner = self:GetOwner()  local count = 0  local hit_pos = owner:WorldSpaceCenter()   for _, ent in pairs(ents.FindInSphere(hit_pos, 100)) do  if ent and ent:IsValidLivingHuman() and ent ~= owner and WorldVisible(hit_pos, ent:NearestPoint(hit_pos)) then  count = count + 1   local strstatus = owner:BuffPlayer(ent, "buff_strength", self.BuffDuration, false, self.PrintName)      strstatus.PointMultiplier = 0.75   if count >= 5 then break end  end  end   self:EmitSound("items/suitchargeok1.wav", 75, 111)  self:EmitSound("weapons/slam/mine_mode.wav", 75, 50, 0.5, CHAN_AUTO)   self:SetWeaponBuildup(0)  end   BaseClass.ShootBullets(self, damage, shots, cone)  end   function wept:EmitFireSound()  self:EmitSound("weapons/zs_greaser/greaser_fire1.ogg", 75, math.Rand(84, 88))  self:EmitSound("weapons/sg550/sg550-1.wav", 75, math.Rand(164, 172), 0.15, CHAN_WEAPON + 1)  end   wept.Draw3DHUD = function(self, vm, pos, ang) BaseClass.Draw3DHUD(self, vm, pos, ang) end end) branch.CollectiveName = "Greaser" branch.Killicon = "weapon_zs_greasegun" GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_FIRE_DELAY, -0.015) GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_BUFF_DURATION, 2, 1) GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_RELOAD_SPEED, 0.07, 1)  branch = GAMEMODE:AddNewRemantleBranch(SWEP, 2, "'Collector' Burst UMP", "Increased damage and accuracy, but slower burst firerate.", function(wept)  wept.Primary.Damage = wept.Primary.Damage * 1.18  wept.Primary.Delay = wept.Primary.Delay * 3.9  wept.Primary.BurstShots = 3  wept.ConeMin = wept.ConeMin * 0.6  wept.ConeMax = wept.ConeMax * 0.6     wept.Primary.ClipSize = 24     wept.FireModeNames = {"3-Round Burst", "Semi-Auto"}     wept.FireModeNames3D = {"BRST", "SEMI"}   wept.PrimaryAttack = function(self)  if not self:CanPrimaryAttack() then return end  local fm = self:GetFireMode()   self:SetNextPrimaryFire(CurTime() + self:GetFireDelay(fm == 1 and 2.55 or 1))  self:EmitFireSound()   if fm == 1 then  self:TakeAmmo()  self:ShootBullets(self.Primary.Damage, self.Primary.NumShots, self:GetCone())  else  self:SetNextShot(CurTime())  self:SetShotsLeft(self.Primary.BurstShots)  end   self.IdleAnimation = CurTime() + self:SequenceDuration()  end   wept.Think = function(self)  BaseClass.Think(self)   local shotsleft = self:GetShotsLeft()  if shotsleft > 0 and CurTime() >= self:GetNextShot() then  self:SetShotsLeft(shotsleft - 1)  self:SetNextShot(CurTime() + self:GetFireDelay(9))   if self:Clip1() > 0 and self:GetReloadFinish() == 0 then  self:EmitFireSound()  self:TakeAmmo()  self:ShootBullets(self.Primary.Damage, self.Primary.NumShots, self:GetCone())   self.IdleAnimation = CurTime() + self:SequenceDuration()  else  self:SetShotsLeft(0)  end  end          self:NextThink(CurTime())         return true  end      function wept:SetNextShot(nextshot)         self:SetDTFloat(5, nextshot)     end      function wept:GetNextShot()         return self:GetDTFloat(5)     end      function wept:SetShotsLeft(shotsleft)         self:SetDTInt(1, shotsleft)     end      function wept:GetShotsLeft()         return self:GetDTInt(1)     end end) branch.CollectiveName = "Collector" GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_FIRE_DELAY, -0.016, 1) GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_HEADSHOT_MULTI, 0.05, 1) GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_RELOAD_SPEED, 0.07, 1)  function SWEP:OnZombieKilled()  local killer = self:GetOwner()   if killer:IsValid() then  killer:GiveStack("buff_stack_reaper")  end end  function SWEP.BulletCallback(attacker, tr)  local hitent = tr.Entity  if hitent:IsValidLivingZombie() and not hitent:GetStatus("redmarrow") and hitent:Health() <= hitent:GetMaxHealthEx() * 0.04 and gamemode.Call("PlayerShouldTakeDamage", hitent, attacker) then  if SERVER then  hitent:SetWasHitInHead()  end  hitent:TakeSpecialDamage(hitent:Health(), DMG_DIRECT, attacker, attacker:GetActiveWeapon(), tr.HitPos)  hitent:EmitSound("npc/roller/blade_out.wav", 80, 125)  end end  if not CLIENT then return end  function SWEP:Draw3DHUD(vm, pos, ang)  BaseClass.Draw3DHUD(self, vm, pos, ang)   local wid, hei = 180, 200  local x, y = wid * -0.6, hei * -0.5   cam.Start3D2D(pos, ang, self.HUD3DScale)  local owner = self:GetOwner()  local ownerstatus = owner:GetStatus("buff_stack_reaper")  if ownerstatus then  local text = ""  for i = 0, ownerstatus:GetDTInt(1)-1 do  text = text .. "+"  end  draw.SimpleTextBlurry(text, "ZS3D2DFontSmall", x + wid/2, y + hei * 0.15, Color(60, 30, 175, 230), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER)  end  cam.End3D2D() end 