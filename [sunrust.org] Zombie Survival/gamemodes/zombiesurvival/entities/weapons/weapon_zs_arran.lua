AddCSLuaFile()  SWEP.PrintName = "'Arran' Great Hammer" SWEP.Description = "Zombies killed explode, dealing damage based on their maximum life."  if CLIENT then  SWEP.ViewModelFOV = 70  SWEP.ShowViewModel = false  SWEP.ShowWorldModel = false   SWEP.VElements = {  ["top_edge_smoother"] = { type = "Model", model = "models/hunter/triangles/1x1x1carved025.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(-18.111, -0.076, 5.581), angle = Angle(-135, 0, -90), size = Vector(0.09, 0.09, 0.09), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top_edge_smoother+"] = { type = "Model", model = "models/hunter/triangles/1x1x1carved025.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(-18.111, -0.076, -5.119), angle = Angle(45, 0, -90), size = Vector(0.09, 0.09, 0.09), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top_edge"] = { type = "Model", model = "models/props_junk/cardboard_box001a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(-18.101, -0.076, 7.019), angle = Angle(90, 0, 90), size = Vector(0.09, 0.155, 0.178), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["pipes_top+"] = { type = "Model", model = "models/props_pipes/pipe01_straight01_short.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(-15.381, -0.066, 0.239), angle = Angle(0, 0, 90), size = Vector(0.1, 0.469, 0.1), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top_inner"] = { type = "Model", model = "models/props_junk/cardboard_box001a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(-18.111, -0.076, 0.246), angle = Angle(0, 0, 90), size = Vector(0.14, 0.239, 0.178), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["pipes_top"] = { type = "Model", model = "models/props_pipes/pipe01_straight01_short.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(-20.871, -0.066, 0.239), angle = Angle(0, 0, 90), size = Vector(0.1, 0.469, 0.1), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["poll_bottom_detail"] = { type = "Model", model = "models/XQM/cylinderx1medium.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(20.867, 0, 0), angle = Angle(0, 0, 0), size = Vector(0.14, 0.079, 0.079), color = Color(225, 225, 225, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top_edge+"] = { type = "Model", model = "models/props_junk/cardboard_box001a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(-18.101, -0.076, -6.567), angle = Angle(90, 0, 90), size = Vector(0.09, 0.155, 0.178), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top+"] = { type = "Model", model = "models/props_phx/trains/wheel_base.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(-20.5, 6.199, 0), angle = Angle(0, 180, 90), size = Vector(0.09, 0.079, 0.1), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["poll_bottom_tip_detail"] = { type = "Model", model = "models/props_combine/headcrabcannister01a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(24.108, -0.151, 0), angle = Angle(0, 0, -90), size = Vector(0.039, 0.059, 0.059), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["poll"] = { type = "Model", model = "models/XQM/cylinderx1medium.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(3.165, 1.203, -4.85), angle = Angle(89.995, -100.391, -90), size = Vector(1.799, 0.07, 0.07), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top"] = { type = "Model", model = "models/props_phx/trains/wheel_base.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(-15.771, -6.2, 0), angle = Angle(0, 0, 90), size = Vector(0.09, 0.079, 0.1), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["poll_detail"] = { type = "Model", model = "models/mechanics/solid_steel/type_b_2_2.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "poll", pos = Vector(0.3, 0, 0), angle = Angle(0, 0, 0), size = Vector(0.649, 0.159, 0.159), color = Color(225, 225, 225, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} }  }   SWEP.WElements = {  ["top"] = { type = "Model", model = "models/props_phx/trains/wheel_base.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(-15.771, -6.2, 0), angle = Angle(0, 0, 90), size = Vector(0.09, 0.079, 0.1), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top_edge_smoother+"] = { type = "Model", model = "models/hunter/triangles/1x1x1carved025.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(-18.111, -0.076, -5.119), angle = Angle(45, 0, -90), size = Vector(0.09, 0.09, 0.09), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["poll_bottom_detail"] = { type = "Model", model = "models/XQM/cylinderx1medium.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(20.867, 0, 0), angle = Angle(0, 0, 0), size = Vector(0.14, 0.079, 0.079), color = Color(225, 225, 225, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["pipes_top+"] = { type = "Model", model = "models/props_pipes/pipe01_straight01_short.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(-20.871, -0.066, 0.239), angle = Angle(0, 0, 90), size = Vector(0.1, 0.469, 0.1), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["poll_detail"] = { type = "Model", model = "models/mechanics/solid_steel/type_b_2_2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(0.3, 0, 0), angle = Angle(0, 0, 0), size = Vector(0.649, 0.159, 0.159), color = Color(225, 225, 225, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["poll_bottom_tip_detail"] = { type = "Model", model = "models/props_combine/headcrabcannister01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(24.108, -0.151, 0), angle = Angle(0, 0, -90), size = Vector(0.039, 0.059, 0.059), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["pipes_top++"] = { type = "Model", model = "models/props_pipes/pipe01_straight01_short.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(-15.381, -0.066, 0.239), angle = Angle(0, 0, 90), size = Vector(0.1, 0.469, 0.1), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top_edge+"] = { type = "Model", model = "models/props_junk/cardboard_box001a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(-18.101, -0.076, -6.567), angle = Angle(90, 0, 90), size = Vector(0.09, 0.155, 0.178), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top+"] = { type = "Model", model = "models/props_phx/trains/wheel_base.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(-20.5, 6.199, 0), angle = Angle(0, 180, 90), size = Vector(0.09, 0.079, 0.1), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["poll"] = { type = "Model", model = "models/XQM/cylinderx1medium.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(3.165, 1.203, -10.157), angle = Angle(89.995, -100.391, -90), size = Vector(1.799, 0.07, 0.07), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top_edge"] = { type = "Model", model = "models/props_junk/cardboard_box001a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(-18.101, -0.076, 7.019), angle = Angle(90, 0, 90), size = Vector(0.09, 0.155, 0.178), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top_inner"] = { type = "Model", model = "models/props_junk/cardboard_box001a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(-18.111, -0.076, 0.246), angle = Angle(0, 0, 90), size = Vector(0.14, 0.239, 0.178), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["top_edge_smoother"] = { type = "Model", model = "models/hunter/triangles/1x1x1carved025.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "poll", pos = Vector(-18.111, -0.076, 5.581), angle = Angle(-135, 0, -90), size = Vector(0.09, 0.09, 0.09), color = Color(145, 145, 145, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} }  } end  SWEP.Base = "weapon_zs_basemelee"  SWEP.HoldType = "melee2"  SWEP.DamageType = DMG_CLUB  SWEP.ViewModel = "models/weapons/c_sledgehammer/c_sledgehammer.mdl" SWEP.WorldModel = "models/weapons/w_crowbar.mdl" SWEP.UseHands = true  SWEP.MeleeDamage = 170 SWEP.MeleeRange = 75 SWEP.MeleeSize = 2.75 SWEP.MeleeKnockBack = 360  SWEP.Primary.Delay = 1.35  SWEP.Tier = 4  SWEP.WalkSpeed = SPEED_SLOWEST  SWEP.SwingRotation = Angle(20, 0, -40) SWEP.SwingOffset = Vector(0, -30, 0) SWEP.SwingTime = 0.7 SWEP.SwingHoldType = "melee"  SWEP.BlockRotation = Angle(-5, 40, -70) SWEP.BlockOffset = Vector(-6, 14, 3)  SWEP.Stability = 80 SWEP.BlockReduction = 0.45  SWEP.HitAnim = ACT_VM_MISSCENTER  SWEP.AllowQualityWeapons = true  SWEP.FireModes = 2 SWEP.FireModeNames = {"Activated", "Deactivated"}  SWEP.StaminaUsage = 0.32  GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_FIRE_DELAY, -0.11, 1) GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_STAMINA_USAGE, -0.01, 1) GAMEMODE:AddNewRemantleBranch(SWEP, 1, "'Avalanche' Great Hammer", "Does not explode, interrupts zombie attacks, more damage, less attack speed", function(wept)  wept.MeleeDamage = wept.MeleeDamage * 1.1  wept.Primary.Delay = wept.Primary.Delay * 1.1  wept.FireModes = 1   function wept:PostOnMeleeHit(hitent, hitflesh, tr)  if hitent:IsValidLivingZombie() and gamemode.Call("PlayerShouldTakeDamage", hitent, self:GetOwner()) then  local wep = hitent:GetActiveWeapon()  if wep:IsValid() and wep.StopSwinging then  wep:StopSwinging()  end   for i = 0, 10 do  timer.Simple(i * 0.01, function()  hitent:AnimSetGestureWeight(GESTURE_SLOT_ATTACK_AND_RELOAD, 1 - i * 0.07)  end)  end  end  end   function wept:OnZombieKilled() end end).CollectiveName = "Avalanche"  function SWEP:PlaySwingSound()  self:EmitSound("weapons/iceaxe/iceaxe_swing1.wav", 75, math.random(27, 34)) end  function SWEP:PlayHitSound()  self:EmitSound("physics/metal/metal_canister_impact_hard"..math.random(3)..".wav", 75, math.Rand(70, 80), 0.5)  self:EmitSound("vehicles/v8/vehicle_impact_medium"..math.random(2,4)..".wav", 75, math.Rand(90, 96), nil, CHAN_AUTO) end  function SWEP:PlayHitFleshSound()  self:EmitSound("physics/body/body_medium_break"..math.random(2, 4)..".wav", 75, math.Rand(86, 90), nil, CHAN_AUTO) end  function SWEP:OnZombieKilled(pl)  if self:GetFireMode() == 0 then  local owner = self:GetOwner()  local pos = pl:WorldSpaceCenter()   if owner:IsValidLivingHuman() then  timer.Simple(0, function() util.BlastDamagePlayer(self, owner, pos, 100, pl:GetMaxHealth() * 0.105, DMG_ALWAYSGIB, 0.97) end)  end   local effectdata = EffectData()  effectdata:SetOrigin(pos)  util.Effect("explosion_arran", effectdata)  end end  function SWEP:PlayFireModeSwitchSound(fm)  fm = tonumber(fm)  if CLIENT then  if fm == 1 then  surface.PlaySound("weapons/physgun_off.wav")  else  surface.PlaySound("weapons/cguard/charging.wav")  end  end end 