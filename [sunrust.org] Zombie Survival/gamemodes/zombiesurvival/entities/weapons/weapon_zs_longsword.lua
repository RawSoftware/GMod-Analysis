AddCSLuaFile() local BaseClass = baseclass.Get("weapon_zs_basemelee")  SWEP.PrintName = "Type XIIIa Longsword" SWEP.Description = "Can cleave through multiple zombies in one swing on charge attacks."  if CLIENT then  SWEP.ViewModelFOV =  55  SWEP.ShowViewModel = false  SWEP.ShowWorldModel = false   SWEP.VElements = {  ["base+++"] = { type = "Model", model = "models/props_trainstation/trainstation_ornament002.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "base", pos = Vector(0, 0, -5.791), angle = Angle(-90, 0, 0), size = Vector(0.035, 0.029, 0.3), color = Color(209, 209, 228, 255), surpresslightning = false, material = "models/props_pipes/pipemetal004a", skin = 0, bodygroup = {} },  ["base+++++"] = { type = "Model", model = "models/props_c17/utilityconnecter005.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "base", pos = Vector(0, 0, -5.791), angle = Angle(90, 90, 0), size = Vector(0.223, 0.259, 0.196), color = Color(209, 209, 228, 255), surpresslightning = false, material = "models/props_pipes/pipemetal004a", skin = 0, bodygroup = {} },  ["base"] = { type = "Model", model = "models/props_junk/popcan01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(2.743, 1.294, 3.095), angle = Angle(6.436, 0, 0), size = Vector(0.412, 0.257, 1.68), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/props_junk/shoe001a", skin = 0, bodygroup = {} },  ["base++++"] = { type = "Model", model = "models/props_phx/misc/flakshell_big.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "base", pos = Vector(0, 0, -5.827), angle = Angle(180, 0, 0), size = Vector(0.093, 0.012, 0.97), color = Color(223, 223, 255, 255), surpresslightning = false, material = "models/props_pipes/pipemetal004a", skin = 0, bodygroup = {} },  ["base+"] = { type = "Model", model = "models/props_c17/streetsign002b.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "base", pos = Vector(0, 0, 6.59), angle = Angle(0, 0, 0), size = Vector(0.09, 3.848, 0.09), color = Color(156, 155, 173, 255), surpresslightning = false, material = "models/props_pipes/pipesystem01a_skin1", skin = 0, bodygroup = {} },  ["base++"] = { type = "Model", model = "models/props_trainstation/trainstation_ornament002.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "base", pos = Vector(0, 0, -5.791), angle = Angle(90, 0, 0), size = Vector(0.035, 0.029, 0.3), color = Color(209, 209, 228, 255), surpresslightning = false, material = "models/props_pipes/pipemetal004a", skin = 0, bodygroup = {} }  }   SWEP.WElements = {  ["base+++++"] = { type = "Model", model = "models/props_c17/utilityconnecter005.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, -5.791), angle = Angle(90, 90, 0), size = Vector(0.223, 0.259, 0.196), color = Color(209, 209, 228, 255), surpresslightning = false, material = "models/props_pipes/pipemetal004a", skin = 0, bodygroup = {} },  ["base++"] = { type = "Model", model = "models/props_trainstation/trainstation_ornament002.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, -5.791), angle = Angle(90, 0, 0), size = Vector(0.035, 0.029, 0.3), color = Color(209, 209, 228, 255), surpresslightning = false, material = "models/props_pipes/pipemetal004a", skin = 0, bodygroup = {} },  ["base"] = { type = "Model", model = "models/props_junk/popcan01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(3.665, 1.264, 2.4), angle = Angle(-5.286, 16.554, -2.345), size = Vector(0.412, 0.257, 1.68), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/props_junk/shoe001a", skin = 0, bodygroup = {} },  ["base+++"] = { type = "Model", model = "models/props_trainstation/trainstation_ornament002.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, -5.791), angle = Angle(-90, 0, 0), size = Vector(0.035, 0.029, 0.3), color = Color(209, 209, 228, 255), surpresslightning = false, material = "models/props_pipes/pipemetal004a", skin = 0, bodygroup = {} },  ["base+"] = { type = "Model", model = "models/props_c17/streetsign002b.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, 6.59), angle = Angle(0, 0, 0), size = Vector(0.09, 3.848, 0.09), color = Color(156, 155, 173, 255), surpresslightning = false, material = "models/props_pipes/pipesystem01a_skin1", skin = 0, bodygroup = {} },  ["base++++"] = { type = "Model", model = "models/props_phx/misc/flakshell_big.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, -5.827), angle = Angle(180, 0, 0), size = Vector(0.093, 0.012, 0.97), color = Color(223, 223, 255, 255), surpresslightning = false, material = "models/props_pipes/pipemetal004a", skin = 0, bodygroup = {} }  } end  SWEP.Base = "weapon_zs_basemelee"  SWEP.HoldType = "melee2"  SWEP.ViewModel = "models/weapons/c_crowbar.mdl" SWEP.WorldModel = "models/weapons/w_crowbar.mdl" SWEP.UseHands = true  SWEP.MeleeDamage = 107 SWEP.MeleeRange = 71 SWEP.MeleeSize = 2.5  SWEP.Primary.Delay = 0.9  SWEP.Tier = 3  SWEP.WalkSpeed = SPEED_SLOW  SWEP.SwingRotation = Angle(30, -20, 10) SWEP.SwingOffset = Vector(0, -30, 0) SWEP.SwingTime = 0.55 SWEP.SwingHoldType = "melee"  SWEP.BlockRotation = Angle(0, 20, -60) SWEP.BlockOffset = Vector(-5, 7, 10)  SWEP.Stability = 50 SWEP.BlockReduction = 0.5  SWEP.Cleave = true SWEP.CleaveTaper = 0.55  SWEP.AllowQualityWeapons = true SWEP.AlwaysCanCharge = true  SWEP.HeavyMulti = 1  SWEP.StaminaUsage = 0.21  GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_FIRE_DELAY, -0.09, 1) GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_MELEE_RANGE, 3) GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_STAMINA_USAGE, -0.006, 1)  local branch = GAMEMODE:AddNewRemantleBranch(SWEP, 1, "'Anarchy' Demon Sword", "No charge attacks, less damage and range, has a three hit combo with varying attack time, knockback on last hit.", function(wept)  wept.NoWind = true  wept.Primary.Automatic = false  wept.SwingHoldType = "melee2"   wept.MeleeDamage = wept.MeleeDamage * (65/107)  wept.SwingTime = wept.SwingTime * 0.385      wept.HeavyMulti = 1.55     wept.MeleeRange = wept.MeleeRange * (67/71)     wept.StaminaUsage = wept.StaminaUsage * 0.65   if CLIENT then  wept.VElements = {  ["base+++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.899, 0, -4.588), angle = Angle(0, -90, 34.78), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.9, 0, -5.469), angle = Angle(0, -90, -34.781), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.9, 0, -4.588), angle = Angle(0, -90, -34.781), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.584, 0, -6.522), angle = Angle(0, -90, -34.781), size = Vector(0.035, 0.039, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.899, 0, -3.711), angle = Angle(0, -90, 34.78), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.34, 0, -7.56), angle = Angle(0, -90, 34.78), size = Vector(0.026, 0.035, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.9, 0, -3.711), angle = Angle(0, -90, -34.781), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++"] = { type = "Model", model = "models/gibs/hgibs.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0.949, -1.951), angle = Angle(10, -90, 0), size = Vector(0.349, 0.72, 0.892), color = Color(60, 90, 145, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["base++++++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.341, 0, -8.447), angle = Angle(0, -90, -34.781), size = Vector(0.026, 0.035, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++"] = { type = "Model", model = "models/gibs/hgibs.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, -0.95, -1.951), angle = Angle(10, 90, 0), size = Vector(0.349, 0.72, 0.892), color = Color(60, 90, 145, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["base+++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.583, 0, -6.522), angle = Angle(0, -90, 34.78), size = Vector(0.032, 0.039, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+"] = { type = "Model", model = "models/props_trainstation/trainstation_ornament002.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, -8.516), angle = Angle(180, 0, 0), size = Vector(0.268, 0.07, 1.44), color = Color(255, 255, 255, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base+++++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.341, 0, -7.56), angle = Angle(0, -90, -34.781), size = Vector(0.026, 0.035, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++++++++++++++"] = { type = "Model", model = "models/props_combine/combine_mine01.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, 15.143), angle = Angle(180, 0, 0), size = Vector(0.119, 0.119, 0.196), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, -6.317), angle = Angle(0, -90, 0), size = Vector(0.017, 0.017, 1.764), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.899, 0, -5.469), angle = Angle(0, -90, 34.78), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++++++++++++"] = { type = "Model", model = "models/props_junk/meathook001a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-5.159, 0, -1.474), angle = Angle(0, 90, -115.683), size = Vector(0.64, 0.472, 0.209), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.34, 0, -8.447), angle = Angle(0, -90, 34.78), size = Vector(0.026, 0.035, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++++++"] = { type = "Model", model = "models/props_junk/meathook001a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(5.158, 0, -1.474), angle = Angle(-180, 90, 64.317), size = Vector(0.64, 0.472, 0.209), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base"] = { type = "Model", model = "models/props_canal/bridge_pillar02.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(3.045, 1.2, -5.027), angle = Angle(0, -19.871, 0), size = Vector(0.045, 0.045, 0.059), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} }  }   wept.WElements = {  ["base+++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.899, 0, -4.588), angle = Angle(0, -90, 34.78), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.9, 0, -5.469), angle = Angle(0, -90, -34.781), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.9, 0, -4.588), angle = Angle(0, -90, -34.781), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.584, 0, -6.522), angle = Angle(0, -90, -34.781), size = Vector(0.035, 0.039, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.899, 0, -3.711), angle = Angle(0, -90, 34.78), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.34, 0, -7.56), angle = Angle(0, -90, 34.78), size = Vector(0.026, 0.035, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.9, 0, -3.711), angle = Angle(0, -90, -34.781), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++"] = { type = "Model", model = "models/gibs/hgibs.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0.949, -1.951), angle = Angle(10, -90, 0), size = Vector(0.349, 0.72, 0.892), color = Color(60, 90, 145, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["base++++++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.341, 0, -8.447), angle = Angle(0, -90, -34.781), size = Vector(0.026, 0.035, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++"] = { type = "Model", model = "models/gibs/hgibs.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, -0.95, -1.951), angle = Angle(10, 90, 0), size = Vector(0.349, 0.72, 0.892), color = Color(60, 90, 145, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["base+++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.583, 0, -6.522), angle = Angle(0, -90, 34.78), size = Vector(0.032, 0.039, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+"] = { type = "Model", model = "models/props_trainstation/trainstation_ornament002.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, -8.516), angle = Angle(180, 0, 0), size = Vector(0.268, 0.07, 1.44), color = Color(255, 255, 255, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base+++++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-1.341, 0, -7.56), angle = Angle(0, -90, -34.781), size = Vector(0.026, 0.035, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base"] = { type = "Model", model = "models/props_canal/bridge_pillar02.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(3.042, 1.786, -5.479), angle = Angle(-5.27, 18.618, -2.904), size = Vector(0.045, 0.045, 0.059), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.899, 0, -5.469), angle = Angle(0, -90, 34.78), size = Vector(0.041, 0.048, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++++++++++++++"] = { type = "Model", model = "models/props_combine/combine_mine01.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, 15.143), angle = Angle(180, 0, 0), size = Vector(0.119, 0.119, 0.196), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.34, 0, -8.447), angle = Angle(0, -90, 34.78), size = Vector(0.026, 0.035, 0.246), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++++++++++++"] = { type = "Model", model = "models/props_junk/meathook001a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(-5.159, 0, -1.474), angle = Angle(0, 90, -115.683), size = Vector(0.64, 0.472, 0.209), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++++++"] = { type = "Model", model = "models/props_junk/meathook001a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(5.158, 0, -1.474), angle = Angle(-180, 90, 64.317), size = Vector(0.64, 0.472, 0.209), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base++++++++++++++++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, -6.317), angle = Angle(0, -90, 0), size = Vector(0.017, 0.017, 1.764), color = Color(100, 110, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} }  }  end   wept.Initialize = function(self)  BaseClass.Initialize(self)   self:SetWeaponSwing2HoldType("fist")  self:SetWeaponSwing3HoldType("melee")  end   wept.SetWeaponSwing2HoldType = function(self, t)  local old = self.ActivityTranslate  self:SetWeaponHoldType(t)  local new = self.ActivityTranslate  self.ActivityTranslate = old  self.ActivityTranslateSwing2 = new  end   wept.SetWeaponSwing3HoldType = function(self, t)  local old = self.ActivityTranslate  self:SetWeaponHoldType(t)  local new = self.ActivityTranslate  self.ActivityTranslate = old  self.ActivityTranslateSwing3 = new  end   wept.Think = function(self)  BaseClass.Think(self)   if CurTime() >= self:GetNextPrimaryFire() + 1.5 and self:GetCombo() ~= 0 then  self:SetCombo(0)  self.SwingRotation = Angle(30, -20, 10)  end  end   wept.BeforeSwing = function(self, damagemultiplier)  local combo = self:GetCombo()   self.MeleeKnockBack = combo == 2 and 300 or 0   return damagemultiplier  end   wept.AfterSwing = function(self)  local combo = self:GetCombo()  local owner = self:GetOwner()   local armdelay = owner:GetMeleeSpeedMul()  self:SetNextPrimaryFire(CurTime() - wept.SwingTime +  self.Primary.Delay * (combo == 0 and 0.3 or combo == 1 and 0.3 or combo == 2 and 1.3) * armdelay  )   self.SwingRotation = combo == 0 and Angle(40, -45, -110) or combo == 1 and Angle(65, -35, 70) or combo >= 2 and Angle(30, -20, 10)   self:SetCombo(combo >= 2 and 0 or combo + 1)  end   wept.PlaySwingSound = function(self)  self:EmitSound("weapons/iceaxe/iceaxe_swing1.wav", 75, math.random(55, 65))  end   wept.PlayHitSound = function(self)  self:EmitSound("nox/frotchet_test1.ogg", 75, math.random(104, 110))  end   wept.GetCombo = function(self)  return self:GetDTInt(10)  end   wept.SetCombo = function(self, c)  self:SetDTInt(10, c)  end   wept.TranslateActivity = function(self, act)  local combo = self:GetCombo()  if self:GetSwingEnd() ~= 0 or self:IsWinding() then  if combo == 0 and self.ActivityTranslateSwing[act] then  return self.ActivityTranslateSwing[act] or -1  elseif combo == 1 and self.ActivityTranslateSwing2[act] then  return self.ActivityTranslateSwing2[act] or -1  elseif combo == 2 and self.ActivityTranslateSwing3[act] then  return self.ActivityTranslateSwing3[act] or -1  end  end   if self:IsBlocking() and self.ActivityTranslateBlock[act] then  return self.ActivityTranslateBlock[act] or -1  end   return self.ActivityTranslate and self.ActivityTranslate[act] or -1  end end) branch.CollectiveName = "Anarchy" branch.NewNames = {"Sweet!", "SShowtime!", "SSStylish!"} branch.Colors = {Color(200, 110, 200), Color(150, 66, 150), Color(105, 80, 125), Color(192, 56, 56)} branch.Killicon = "weapon_zs_anarchy"  local branch2 = GAMEMODE:AddNewRemantleBranch(SWEP, 2, "'Red Sovereign' Exceed Sword", "Less damage, has a three hit combo with varying attack time, knockback on last hit, can build up power to enhance attacks with reload. Powered attacks use attachments.", function(wept)  wept.Primary.Automatic = false  wept.SwingHoldType = "melee2"      wept.MeleeDamage = wept.MeleeDamage * (60/107)  wept.SwingTime = wept.SwingTime * 0.385   wept.Exceed = true      wept.HeavyMulti = 1.55     wept.StaminaUsage = wept.StaminaUsage * 0.65   if CLIENT then  wept.VElements = {  ["base+++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2d.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0.043, 0, -35.313), angle = Angle(175, 0, -90), size = Vector(0.111, 0.3, 0.27), color = Color(175, 175, 175, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base++"] = { type = "Model", model = "models/props_combine/combineinnerwall001a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.146, 0.076, -8), angle = Angle(-180, 0, 0), size = Vector(0.019, 0.013, 0.016), color = Color(240, 0, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} },  ["base+++++++"] = { type = "Model", model = "models/gibs/metal_gib1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(3.15, 0, 3.213), angle = Angle(0, 90, 104.28), size = Vector(0.49, 0.851, 0.361), color = Color(255, 255, 255, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base+"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, 7.5), angle = Angle(0, 0, 0), size = Vector(0.017, 0.017, 0.15), color = Color(255, 255, 255, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base++++"] = { type = "Model", model = "models/hunter/plates/plate2x4.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(4.969, 0, -6.461), angle = Angle(-28, 0, 90), size = Vector(0.054, 0.05, 0.27), color = Color(175, 175, 175, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base++++++"] = { type = "Model", model = "models/props_c17/light_decklight01_off.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.896, 0, -0.489), angle = Angle(-90, 0, 0), size = Vector(0.202, 0.101, 0.133), color = Color(255, 255, 255, 255), surpresslightning = false, material = "phoenix_storms/metal_plate", skin = 0, bodygroup = {} },  ["base"] = { type = "Model", model = "models/props_c17/column02a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(3.342, 1.2, -5.801), angle = Angle(0, 0, 0), size = Vector(0.03, 0.03, 0.025), color = Color(255, 255, 255, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base+++++++++"] = { type = "Model", model = "models/hunter/geometric/hex05x1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0.206, 0.384, -34.444), angle = Angle(-2.684, 0, -90), size = Vector(0.05, 0.104, 0.259), color = Color(175, 175, 175, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base++++++++"] = { type = "Model", model = "models/hunter/tubes/tube1x1x8.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, 3.375), angle = Angle(0, 0, 0), size = Vector(0.029, 0.029, 0.032), color = Color(150, 0, 255, 255), surpresslightning = false, material = "phoenix_storms/stripes", skin = 0, bodygroup = {} },  ["base+++"] = { type = "Model", model = "models/hunter/plates/plate2x7.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(2.674, 0, -20.33), angle = Angle(0, 0, 90), size = Vector(0.054, 0.094, 0.275), color = Color(175, 175, 175, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} }  }   wept.WElements = {  ["base+++++"] = { type = "Model", model = "models/hunter/tubes/circle2x2d.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0.043, 0, -35.313), angle = Angle(175, 0, -90), size = Vector(0.111, 0.3, 0.27), color = Color(175, 175, 175, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base+++++++++"] = { type = "Model", model = "models/hunter/geometric/hex05x1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0.206, 0.384, -34.444), angle = Angle(-2.684, 0, -90), size = Vector(0.05, 0.104, 0.259), color = Color(175, 175, 175, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base+++++++"] = { type = "Model", model = "models/gibs/metal_gib1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(3.15, 0, 3.213), angle = Angle(0, 90, 104.28), size = Vector(0.49, 0.851, 0.361), color = Color(255, 255, 255, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base+"] = { type = "Model", model = "models/hunter/tubes/circle2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, 7.5), angle = Angle(0, 0, 0), size = Vector(0.017, 0.017, 0.15), color = Color(255, 255, 255, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base++++"] = { type = "Model", model = "models/hunter/plates/plate2x4.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(4.969, 0, -6.461), angle = Angle(-28, 0, 90), size = Vector(0.054, 0.05, 0.27), color = Color(175, 175, 175, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base++++++"] = { type = "Model", model = "models/props_c17/light_decklight01_off.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.896, 0, -0.489), angle = Angle(-90, 0, 0), size = Vector(0.202, 0.101, 0.133), color = Color(255, 255, 255, 255), surpresslightning = false, material = "phoenix_storms/metal_plate", skin = 0, bodygroup = {} },  ["base"] = { type = "Model", model = "models/props_c17/column02a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(2.937, 2.062, -5.943), angle = Angle(-6.152, 20.135, -2.156), size = Vector(0.03, 0.03, 0.025), color = Color(255, 255, 255, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base+++"] = { type = "Model", model = "models/hunter/plates/plate2x7.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(2.674, 0, -20.33), angle = Angle(0, 0, 90), size = Vector(0.054, 0.094, 0.275), color = Color(175, 175, 175, 255), surpresslightning = false, material = "metal2a", skin = 0, bodygroup = {} },  ["base++++++++"] = { type = "Model", model = "models/hunter/tubes/tube1x1x8.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(0, 0, 3.375), angle = Angle(0, 0, 0), size = Vector(0.029, 0.029, 0.032), color = Color(150, 0, 255, 255), surpresslightning = false, material = "phoenix_storms/stripes", skin = 0, bodygroup = {} },  ["base++"] = { type = "Model", model = "models/props_combine/combineinnerwall001a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "base", pos = Vector(1.146, 0.076, -8), angle = Angle(-180, 0, 0), size = Vector(0.019, 0.013, 0.016), color = Color(240, 0, 130, 255), surpresslightning = false, material = "metal2", skin = 0, bodygroup = {} }  }   wept.PreDrawViewModel = function(self, vm)  BaseClass.PreDrawViewModel(self, vm)   local exceed = self:GetExceed() == 3   local owner = self:GetOwner()  if owner:IsValid() and exceed then   local vmodelent = self.VElements["base"].modelEnt  if vmodelent:IsValid() then  local pos, ang = vmodelent:GetPos(), vmodelent:GetAngles()  if pos then  pos = pos + ang:Up() * 5 + ang:Right() * -6 + ang:Forward() * -5  ang:RotateAroundAxis(ang:Right(), -6 + math.random(-3, 3))  ang:RotateAroundAxis(ang:Forward(), -3 + math.random(-3, 3))   local curvel = owner:GetVelocity()  local emitter = ParticleEmitter(pos)   for i=1, math.min(16, math.ceil(FrameTime() * 200)) do  local particle = emitter:Add("effects/yellowflare", pos)  particle:SetVelocity(curvel + ang:Up() * math.random(-220, -250))  particle:SetDieTime(0.25)  particle:SetStartAlpha(175)  particle:SetEndAlpha(0)  particle:SetColor(255,70,0)  particle:SetStartSize(math.random(10, 15))  particle:SetEndSize(7)  end  emitter:Finish() emitter = nil collectgarbage("step", 64)  end  end  end  end   wept.DrawWorldModel = function(self)  BaseClass.DrawWorldModel(self)   local exceed = self:GetExceed() == 3   local owner = self:GetOwner()  if owner:IsValid() and not owner.ShadowMan and exceed then   local boneindex = owner:LookupBone("valvebiped.bip01_r_hand")  if boneindex then  local pos, ang = owner:GetBonePosition(boneindex)  if pos then  pos = pos + ang:Up() * -10 + ang:Right() * 2 + ang:Forward() * 5  ang:RotateAroundAxis(ang:Right(), -6 + math.random(-3, 3))  ang:RotateAroundAxis(ang:Forward(), -3 + math.random(-3, 3))   local curvel = owner:GetVelocity()  local emitter = ParticleEmitter(pos)  emitter:SetNearClip(24, 48)   for i=1, math.min(16, math.ceil(FrameTime() * 200)) do  local particle = emitter:Add("effects/yellowflare", pos)  particle:SetVelocity(curvel + ang:Up() * math.random(-220, -250))  particle:SetDieTime(0.25)  particle:SetStartAlpha(175)  particle:SetEndAlpha(0)  particle:SetColor(255,70,0)  particle:SetStartSize(math.random(10, 15))  particle:SetEndSize(7)  end  emitter:Finish() emitter = nil collectgarbage("step", 64)  end  end  end  end   local revlerp = 0  wept.GetViewModelPosition = function(self, pos, ang)  local owner = self:GetOwner()  if self:GetRevving() then  revlerp = math.min(1, revlerp + FrameTime() * 2)  elseif revlerp > 0 then  revlerp = math.max(0, revlerp - FrameTime() * 2)  end   if revlerp > 0 then  pos = pos + (-12 * ang:Up() + 13 * ang:Right()) * revlerp + VectorRand() * math.max(0.4, math.sin(CurTime() * 5)) * 0.5  ang:RotateAroundAxis(ang:Up(), 40 * revlerp)  ang:RotateAroundAxis(ang:Right(), 45 * revlerp)  end   return BaseClass.GetViewModelPosition(self, pos, ang)  end   local function DrawGauge(self, x, y, w, h)  local gauge = self:GetGauge()  local exceed = self:GetExceed()  local gaugecol = (1 - gauge / 100) * 175  local gaugew = math.max(w * gauge / 100 - 8, 0)  local gaugey = 24  local exceedbgw = w * 0.7  local exceedw = math.max(exceedbgw * exceed / 3 - (exceed ~= 3 and 0 or 8), 0)  local exceedcol = (1 - math.sin(CurTime() * 4)) / 2 * 255   surface.SetDrawColor(75, 75, 75)  surface.DrawRect(x, y, w, gaugey)  surface.SetDrawColor(255, gaugecol, 0)  surface.DrawRect(x + 4, y + 4, gaugew, gaugey - 8)  surface.SetDrawColor(50, 50, 50)  surface.DrawRect(x + (w - exceedbgw) / 2, y - gaugey, exceedbgw, gaugey)  surface.SetDrawColor(255, exceedcol, exceedcol)  surface.DrawRect(x + (w - exceedbgw) / 2 + 4, y - gaugey + 4, exceedw, gaugey - 8)  surface.SetDrawColor(50, 50, 50)  surface.DrawRect(x + (w - exceedbgw) / 2 + exceedbgw / 3 - 4, y - gaugey, 8, gaugey)  surface.DrawRect(x + (w - exceedbgw) / 2 + exceedbgw / 3 * 2 - 4, y - gaugey, 8, gaugey)  end   wept.DrawHUD = function(self)  local screenscale = BetterScreenScale()   local wid, hei = 240 * screenscale, 64 * screenscale  local x, y = ScrW() - wid - screenscale * 160, ScrH() - hei - screenscale * 72   DrawGauge(self, x, y, wid, hei)   BaseClass.DrawHUD(self)  end  end   wept.Initialize = function(self)  BaseClass.Initialize(self)   if CLIENT then  self.RevSound = CreateSound(self, "vehicles/v8/v8_firstgear_rev_loop1.wav")  end  self:SetWeaponRevHoldType("slam")  self:SetWeaponSwing2HoldType("knife")  self:SetWeaponSwing3HoldType("melee")  end   wept.SetWeaponRevHoldType = function(self, t)  local old = self.ActivityTranslate  self:SetWeaponHoldType(t)  local new = self.ActivityTranslate  self.ActivityTranslate = old  self.ActivityTranslateRev = new  end   wept.SetWeaponSwing2HoldType = function(self, t)  local old = self.ActivityTranslate  self:SetWeaponHoldType(t)  local new = self.ActivityTranslate  self.ActivityTranslate = old  self.ActivityTranslateSwing2 = new  end   wept.SetWeaponSwing3HoldType = function(self, t)  local old = self.ActivityTranslate  self:SetWeaponHoldType(t)  local new = self.ActivityTranslate  self.ActivityTranslate = old  self.ActivityTranslateSwing3 = new  end   wept.Holster = function(self)  if CLIENT then  self.RevSound:Stop()  end   self:SetRevving(false)  self:SetLastRev(0)   return BaseClass.Holster(self)  end   wept.OnRemove = function(self)  if CLIENT then  self.RevSound:Stop()  end   BaseClass.OnRemove(self)  end   wept.Think = function(self)  BaseClass.Think(self)   local owner = self:GetOwner()  local rel = owner:KeyDown(IN_RELOAD)  local rev, gauge, exceed, lastrev = self:GetRevving(), self:GetGauge(), self:GetExceed(), self:GetLastRev()  local ghost = owner:GetBarricadeGhosting()  local carry = owner:IsCarrying()  local swinging = self:IsSwinging()  local blocking = self:IsBlocking()   if (not rel or swinging or blocking or ghost or carry) and rev then  self:SetRevving(false)  self:SetLastRev(0)  owner:ResetSpeed()  elseif not ghost and not carry and not swinging and not blocking and not rev and rel then  self:SetRevving(true)  self:SetLastRev(CurTime())  owner:ResetSpeed()  end   if rev then  if CLIENT then  self.RevSound:PlayEx(1, 110)  end   local revaccel = lastrev ~= 0 and math.min((CurTime() - lastrev) / 2.5, 2.5) or 0  if gauge >= 100 and exceed < 3 then  self:SetExceed(math.min(3, exceed + 1))  self:SetGauge(self:GetExceed() ~= 3 and 0 or 100)  if CLIENT then  self:EmitSound("npc/dog/dog_pneumatic"..(self:GetExceed() ~= 3 and 1 or 2)..".wav", 75, math.random(76, 88))  end  else  self:SetGauge(math.min(100, gauge + 10 * revaccel))  end  else  if CLIENT then  self.RevSound:Stop()  end  end    if CurTime() >= self:GetNextPrimaryFire() + 1.5 and self:GetCombo() ~= 0 then  self:SetCombo(0)  self.SwingRotation = Angle(30, -20, 10)  end  end   wept.BeforeSwing = function(self, damagemultiplier)  local combo = self:GetCombo()   self.MeleeKnockBack = combo == 2 and 300 or 0   if self:GetExceed() ~= 0 then  damagemultiplier = damagemultiplier * (1 + 0.3 * self:GetExceed())   self.AmmoTrinketOverride = self:GetExceed()  end   return damagemultiplier  end   wept.AfterSwing = function(self)  local combo = self:GetCombo()  local owner = self:GetOwner()   local armdelay = owner:GetMeleeSpeedMul()  self:SetNextPrimaryFire(CurTime() - wept.SwingTime +  self.Primary.Delay * (combo == 0 and 0.2 or combo == 1 and 0.2 or combo == 2 and 1.1) * armdelay  )   self.SwingRotation = combo == 0 and Angle(40, -45, -110) or combo == 1 and Angle(65, -35, 30) or combo >= 2 and Angle(30, -20, 10)   self:SetCombo(combo >= 2 and 0 or combo + 1)          self:SetExceed(math.max(0, self:GetExceed() - 1))         self:SetGauge(0)          self.AmmoTrinketOverride = nil  end   wept.PlaySwingSound = function(self)  self:EmitSound("weapons/iceaxe/iceaxe_swing1.wav", 75, math.random(55, 65))  end   wept.PlayHitSound = function(self)  self:EmitSound("nox/frotchet_test1.ogg", 75, math.random(110, 116))  end   wept.GetRevving = function(self)  return self:GetDTBool(5)  end   wept.SetRevving = function(self, rev)  self:SetDTBool(5, rev)  end   wept.GetCombo = function(self)  return self:GetDTInt(10)  end   wept.SetCombo = function(self, c)  self:SetDTInt(10, c)  end   wept.GetExceed = function(self)  return self:GetDTInt(11)  end   wept.SetExceed = function(self, ex)  self:SetDTInt(11, ex)  end   wept.GetGauge = function(self)  return self:GetDTFloat(4)  end   wept.SetGauge = function(self, g)  self:SetDTFloat(4, g)  end   wept.GetLastRev = function(self)  return self:GetDTFloat(5)  end   wept.SetLastRev = function(self, t)  self:SetDTFloat(5, t)  end   wept.TranslateActivity = function(self, act)  local combo = self:GetCombo()  if self:GetSwingEnd() ~= 0 or self:IsWinding() then  if combo == 0 and self.ActivityTranslateSwing[act] then  return self.ActivityTranslateSwing[act] or -1  elseif combo == 1 and self.ActivityTranslateSwing2[act] then  return self.ActivityTranslateSwing2[act] or -1  elseif combo == 2 and self.ActivityTranslateSwing3[act] then  return self.ActivityTranslateSwing3[act] or -1  end  end   if self:IsBlocking() and self.ActivityTranslateBlock[act] then  return self.ActivityTranslateBlock[act] or -1  end   if self:GetRevving() and self.ActivityTranslateRev[act] then  return self.ActivityTranslateRev[act] or -1  end   return self.ActivityTranslate and self.ActivityTranslate[act] or -1  end end) branch2.CollectiveName = "Red Sovereign" branch2.NewNames = {"Smokin'!", "Smokin' Style!", "Smokin' Sick Style!"} branch2.Colors = {Color(250, 135, 120), Color(200, 85, 70), Color(215, 55, 35), Color(255, 40, 0)} branch2.Killicon = "weapon_zs_redsovereign"  function SWEP:PlaySwingSound()  self:EmitSound("weapons/iceaxe/iceaxe_swing1.wav", 75, math.random(65, 85)) end  function SWEP:PlayHitSound()  self:EmitSound("ambient/machines/slicer"..math.random(4)..".wav", 75) end  function SWEP:BeforeSwing(dmgmul)  self.Cleave = self:IsHeavy()   return dmgmul end 