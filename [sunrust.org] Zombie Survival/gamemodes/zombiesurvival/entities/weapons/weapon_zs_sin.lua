AddCSLuaFile()  SWEP.Base = "weapon_zs_baseshotgun" local BaseClass = baseclass.Get("weapon_zs_baseshotgun")  SWEP.PrintName = "'Sin' Rifle" SWEP.Description = "An ancient rifle. Unfathomable in nature."  if CLIENT then  SWEP.ViewModelFlip = false   SWEP.IronSightsPos = Vector(-8.8, 10, 4.32)  SWEP.IronSightsAng = Vector(1.4, 0.1, 5)   SWEP.HUD3DBone = "ValveBiped.Gun"  SWEP.HUD3DPos = Vector(1.75, 1, -5)  SWEP.HUD3DAng = Angle(180, 0, 0)  SWEP.HUD3DScale = 0.015 end  SWEP.HoldType = "ar2"  SWEP.ViewModel = "models/weapons/c_annabelle.mdl" SWEP.WorldModel = "models/weapons/w_annabelle.mdl" SWEP.UseHands = true  SWEP.CSMuzzleFlashes = false  SWEP.Primary.Sound = Sound("weapons/shotgun/shotgun_fire7.wav") SWEP.Primary.Damage = 6 SWEP.Primary.NumShots = 6 SWEP.Primary.Delay = 1.6  SWEP.ReloadDelay = 0.4  SWEP.Primary.ClipSize = 44 SWEP.Primary.Automatic = true SWEP.Primary.Ammo = "357" SWEP.Primary.DefaultClip = 44  SWEP.ConeMax = 8.5 SWEP.ConeMin = 7.75  SWEP.ReloadSound = Sound("weapons/shotgun/shotgun_reload1.wav") SWEP.PumpSound = Sound("weapons/shotgun/shotgun_cock.wav")  SWEP.WalkSpeed = SPEED_SLOW  SWEP.Tier = 2  SWEP.FakeAttackMulti = 5  GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_MAX_SPREAD, -0.5, 1) GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_FIRE_DELAY, -0.1, 1)  function SWEP:EmitFireSound()  self:EmitSound(self.Primary.Sound, 85, math.random(65, 67), 0.95)  self:EmitSound("weapons/shotgun/shotgun_fire6.wav", 85, math.random(68, 71), 0.85, CHAN_WEAPON + 20) end  function SWEP:SecondaryAttack()  if self:GetNextSecondaryFire() <= CurTime() and not self:GetOwner():IsHolding() and self:GetReloadFinish() == 0 then  self:SetIronsights(true)  end end  function SWEP:Think()  if self:GetIronsights() and not self:GetOwner():KeyDown(IN_ATTACK2) then  self:SetIronsights(false)  end   self.BaseClass.Think(self) end  SWEP.PreDrawViewModel = function(self, vm)  render.SetColorModulation(0.2, 0.1, 0.1)   BaseClass.PreDrawViewModel(self, vm) end SWEP.PostDrawViewModel = function(self, vm)  render.SetColorModulation(1, 1, 1)   BaseClass.PostDrawViewModel(self, vm) end  local function DoRicochet(attacker, hitpos, hitnormal, normal, damage)  attacker.RicochetBullet = true  if attacker:IsValid() then  attacker:FireBulletsLua(hitpos, 2 * hitnormal * hitnormal:Dot(normal * -1) + normal, 0, 1, damage, nil, nil, "tracer_rico", RicoCallback, nil, nil, nil, nil, attacker:GetActiveWeapon())  end  attacker.RicochetBullet = nil end function SWEP.BulletCallback(attacker, tr, dmginfo)  if SERVER and tr.HitWorld and not tr.HitSky then  local hitpos, hitnormal, normal, dmg = tr.HitPos, tr.HitNormal, tr.Normal, dmginfo:GetDamage()  timer.Simple(0, function() DoRicochet(attacker, hitpos, hitnormal, normal, dmg) end)  end end