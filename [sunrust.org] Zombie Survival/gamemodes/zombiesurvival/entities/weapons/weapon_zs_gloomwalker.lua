AddCSLuaFile()  SWEP.PrintName = "Gloom Walker"  SWEP.Base = "weapon_zs_zombie"  SWEP.MeleeDamage = 34 SWEP.Primary.Delay = 0.8  SWEP.AlertDelay = 3.5  SWEP.MeleeReach = 68  SWEP.TryAlt = true SWEP.GreatEvil = true SWEP.PassiveMoan = false  AccessorFuncDT(SWEP, "BlastTime", "Float", 1)  function SWEP:ApplyMeleeDamage(ent, trace, damage)  self.BaseClass.ApplyMeleeDamage(self, ent, trace, damage)   if SERVER and ent:IsPlayer() then  ent:GiveStatus("debuff_dimvision", 10)  end end  function SWEP:Blast()  local owner = self:GetOwner()   owner.LastRangedAttack = CurTime()   for i = 1, 3 do  local ent = ents.Create("projectile_gw")  if ent:IsValid() then  local ang = owner:EyeAngles()   ent:SetPos(owner:GetShootPos())  ent:SetAngles(ang)  ent:SetOwner(owner)  ent:Spawn()   local phys = ent:GetPhysicsObject()  if phys:IsValid() then  ang:RotateAroundAxis(ang:Right(), 20)  ang:RotateAroundAxis(ang:Up(), math.Rand(-22, 22))  phys:SetVelocityInstantaneous(ang:Forward() * math.Rand(625, 850))  end  end  end end  function SWEP:PrimaryAttack()  if CurTime() < self:GetNextPrimaryFire() then return end  local owner = self:GetOwner()   local armdelay = owner:GetMeleeSpeedMul()   self:SetNextPrimaryFire(CurTime() + self.Primary.Delay * armdelay)  self:StartSwinging()   if SERVER and math.random(8) == 1 then  local ent = ents.Create("projectile_darknova")  if ent:IsValid() then  ent:SetPos(owner:WorldSpaceCenter())  ent:SetOwner(owner)  ent:Spawn()  end  end end  function SWEP:SecondaryAttack()  if CurTime() < self:GetNextPrimaryFire() or CurTime() < self:GetNextSecondaryFire() then return end   self:SetNextSecondaryFire(CurTime() + 2.5)  self:SetNextPrimaryFire(CurTime() + 2.5)   local owner = self:GetOwner()   owner:DoReloadEvent()  owner:AnimSetGestureWeight(GESTURE_SLOT_ATTACK_AND_RELOAD, 0.4)   self:EmitSound("zombiesurvival/eyeflash.ogg", 75, 56, 0.3, CHAN_AUTO)  self:EmitSound("npc/antlion_guard/angry"..math.random(3)..".wav", 75, math.random(51,52))   self:SetBlastTime(CurTime() + 1) end  function SWEP:Think()  if self:GetBlastTime() > 0 and CurTime() >= self:GetBlastTime() then  self:SetBlastTime(0)   self:EmitSound("beams/beamstart5.wav", 72, math.random(160, 163))  self:SendWeaponAnim(ACT_VM_SECONDARYATTACK)   if SERVER then  self:Blast()  end  end   return self.BaseClass.Think(self) end  function SWEP:Reload()  self:SecondaryAttack() end  function SWEP:PlayAlertSound() end SWEP.PlayIdleSound = SWEP.PlayAlertSound  function SWEP:PlayAttackSound()     self:EmitSound("npc/zombie/zombie_die"..math.random(3)..".wav", 75, 91, 0.7, CHAN_WEAPON + 1)  self:EmitSound("npc/zombie/zombie_die"..math.random(3)..".wav", 75, 92, 0.7, CHAN_WEAPON + 2)  self:EmitSound("npc/fast_zombie/leap1.wav", 75, 53, 0.7, CHAN_WEAPON + 3) end  if not CLIENT then return end  function SWEP:ViewModelDrawn()  render.ModelMaterialOverride(0) end  local matSheet = Material("Models/charple/charple4_sheet.vtf") function SWEP:PreDrawViewModel(vm)  render.ModelMaterialOverride(matSheet) end  function SWEP:SetSwingAnimTime(time)  self:SetDTFloat(3, time) end  function SWEP:GetSwingAnimTime()  return self:GetDTFloat(3) end  function SWEP:StartSwinging()  self.BaseClass.StartSwinging(self)  self:SetSwingAnimTime(CurTime() + 1) end