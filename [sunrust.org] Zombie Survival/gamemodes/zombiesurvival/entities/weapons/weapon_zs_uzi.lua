AddCSLuaFile() local BaseClass = baseclass.Get("weapon_zs_base")  SWEP.PrintName = "'Sprayer' Uzi 9mm" SWEP.Description = "Quite inaccurate, but has good, cheap and reliable firepower potential."  SWEP.Slot = 2 SWEP.SlotPos = 0  if CLIENT then     SWEP.ViewModelFlip = false     SWEP.ViewModelFOV = 80      SWEP.HUD3DBone = "v_weapon.mac10_bolt"     SWEP.HUD3DPos = Vector(-1.45, 1.25, 0)     SWEP.HUD3DAng = Angle(0, 0, 0)     SWEP.HUD3DScale = 0.015     SWEP.VMPos = Vector(-2, -9, 0)     SWEP.VMAng = Vector(0, -3, -5.5) end  SWEP.Base = "weapon_zs_base"  SWEP.HoldType = "pistol"  SWEP.ViewModel = "models/weapons/cstrike/c_smg_mac10.mdl" SWEP.WorldModel = "models/weapons/w_smg_mac10.mdl" SWEP.UseHands = true  SWEP.Primary.Sound = Sound(")weapons/mac10/mac10-1.wav") SWEP.Primary.Damage = 17 SWEP.Primary.NumShots = 1 SWEP.Primary.Delay = 0.075  SWEP.Primary.ClipSize = 32 SWEP.Primary.Automatic = true SWEP.Primary.Ammo = "smg1" GAMEMODE:SetupDefaultClip(SWEP.Primary)  SWEP.Primary.Gesture = ACT_HL2MP_GESTURE_RANGE_ATTACK_SMG1 SWEP.ReloadGesture = ACT_HL2MP_GESTURE_RELOAD_SMG1  SWEP.ConeMax = 5.5 SWEP.ConeMin = 2.8  SWEP.FireAnimSpeed = 1.5  SWEP.WalkSpeed = SPEED_NORMAL  SWEP.Tier = 2  SWEP.IronsightsMultiplier = 0.8 SWEP.IronSightsPos = Vector(-3, 2, 0) SWEP.IronSightsAng = Vector(2, 0, 0)  SWEP.DamageScaling = 0.7  GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_MAX_SPREAD, -0.45) GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_MIN_SPREAD, -0.35) GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_CLIP_SIZE, 3) local branch = GAMEMODE:AddNewRemantleBranch(SWEP, 1, "'Recycler' Uzi", "Consumes half ammo on reload, but significantly reduced damage and firerate. Has increased accuracy. Changes your resupply ammo type into SMG ammo as you shoot.", function(wept)     wept.Primary.Damage = wept.Primary.Damage * 0.785     wept.Primary.Delay  = wept.Primary.Delay + 0.045     wept.ReloadConsumption = 0.5      wept.ConeMax = wept.ConeMax * 0.8     wept.ConeMin = wept.ConeMin * 0.8      wept.RecycleLoop = 0     function wept:TakeAmmo()         wept.RecycleLoop = wept.RecycleLoop + 1         if SERVER and wept.RecycleLoop == 30 then             local owner = self:GetOwner()              local resup_type = owner:GetResupplyAmmoType()             if resup_type and resup_type ~= "smg1" and GAMEMODE.AmmoCache[resup_type] then                 local to_take = math.min(GAMEMODE.AmmoCache[resup_type], owner:GetAmmoCount(resup_type))                 local smg_amount = GAMEMODE.AmmoCache["smg1"]                  wept.RecycleLoop = 0                  owner:RemoveAmmo(to_take, resup_type)                 owner:GiveAmmo(math.ceil(to_take / GAMEMODE.AmmoCache[resup_type]) * smg_amount, "smg1")             end         end          return BaseClass.TakeAmmo(self)     end      local mat = Material("models/weapons/v_stunstick/v_stunstick_diffuse")     wept.PreDrawViewModel = function(self, vm)         render.MaterialOverrideByIndex(0, mat)          BaseClass.PreDrawViewModel(self, vm)     end     wept.PostDrawViewModel = function(self, vm)         render.MaterialOverrideByIndex(0)          BaseClass.PostDrawViewModel(self, vm)     end end) branch.CollectiveName = "Recycler" branch.DamageScaling = 1.1 GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_MAX_SPREAD, -0.45) GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_MIN_SPREAD, -0.35) GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_FIRE_DELAY, -0.031, 3)  branch = GAMEMODE:AddNewRemantleBranch(SWEP, 2, "'Galestorm' SMG", "Fires 2 bullets, has increased delay and adds Storm firing mode. Fires 3 bullets with reduced damage and fire rate while in Storm mode.", function(wept)     wept.Primary.NumShots = 2     wept.Primary.Damage = wept.Primary.Damage * 0.52     wept.Primary.Delay = wept.Primary.Delay + 0.045     wept.Primary.ClipSize = math.floor(wept.Primary.ClipSize * 1.2)     wept.FireModes = 2     wept.FireModeNames = {"Full-Auto", "Storm"}     wept.FireModeNames3D = {"AUTO", "STRM"}      wept.ConeMax = wept.ConeMax * 1.25     wept.ConeMin = wept.ConeMin * 1.25      function wept:EmitFireSound()         self:EmitSound("weapons/p90/p90-1.wav", 75, math.random(120, 125), 1, CHAN_WEAPON)     end      if CLIENT then         wept.VElements = {             ["top2"] = { type = "Model", model = "models/props_c17/playground_teetertoter_stan.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "top", pos = Vector(0, -1.201, -0.602), angle = Angle(180, 0, 0), size = Vector(0.057, 0.611, 0.068), color = Color(170, 170, 160, 255), surpresslightning = false, material = "models/props_combine/metal_combinebridge001", skin = 0, bodygroup = {} },             ["barrel"] = { type = "Model", model = "models/props_c17/TrapPropeller_Engine.mdl", bone = "v_weapon.mac10_parent", rel = "", pos = Vector(-0.064, -3.751, -0.304), angle = Angle(180, -90, 0), size = Vector(0.177, 0.079, 0.342), color = Color(170, 170, 160, 255), surpresslightning = false, material = "models/props_combine/metal_combinebridge001", skin = 0, bodygroup = {} },             ["top"] = { type = "Model", model = "models/props_combine/combine_train02b.mdl", bone = "v_weapon.mac10_parent", rel = "", pos = Vector(-0.178, -5.091, -1.982), angle = Angle(180, 0, 90), size = Vector(0.021, 0.009, 0.009), color = Color(170, 170, 160, 255), surpresslightning = false, material = "models/props_combine/metal_combinebridge001", skin = 0, bodygroup = {} },             ["laser+"] = { type = "Model", model = "models/hunter/blocks/cube075x1x025.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "top2", pos = Vector(0, 0, 0.843), angle = Angle(90, 90, 0), size = Vector(0.023, 0.037, 0.021), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/weapons/v_smg1/texture5", skin = 0, bodygroup = {} },             ["laser"] = { type = "Model", model = "models/hunter/blocks/cube075x1x025.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "top2", pos = Vector(0, 0, 0.577), angle = Angle(-90, 90, 0), size = Vector(0.023, 0.037, 0.021), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/weapons/v_smg1/texture5", skin = 0, bodygroup = {} }         }          wept.WElements = {             ["top2"] = { type = "Model", model = "models/props_c17/playground_teetertoter_stan.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "barrel", pos = Vector(1.906, 0.238, 3.084), angle = Angle(0, 90, 90), size = Vector(0.057, 0.611, 0.068), color = Color(170, 170, 160, 255), surpresslightning = false, material = "models/props_combine/metal_combinebridge001", skin = 0, bodygroup = {} },             ["barrel"] = { type = "Model", model = "models/props_c17/TrapPropeller_Engine.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(5.876, 1.121, -3.771), angle = Angle(-91.623, -4.99, 0), size = Vector(0.177, 0.101, 0.418), color = Color(170, 170, 160, 255), surpresslightning = false, material = "models/props_combine/metal_combinebridge001", skin = 0, bodygroup = {} },             ["top"] = { type = "Model", model = "models/props_combine/combine_train02b.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "barrel", pos = Vector(1.287, 0.241, 2.313), angle = Angle(0, -90, 90), size = Vector(0.021, 0.009, 0.009), color = Color(170, 170, 160, 255), surpresslightning = false, material = "models/props_combine/metal_combinebridge001", skin = 0, bodygroup = {} },             ["laser+"] = { type = "Model", model = "models/hunter/blocks/cube075x1x025.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "top2", pos = Vector(0, 0, 0.843), angle = Angle(90, 90, 0), size = Vector(0.023, 0.037, 0.021), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/weapons/v_smg1/texture5", skin = 0, bodygroup = {} },             ["laser"] = { type = "Model", model = "models/hunter/blocks/cube075x1x025.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "top2", pos = Vector(0, 0, 0.577), angle = Angle(-90, 90, 0), size = Vector(0.023, 0.037, 0.021), color = Color(255, 255, 255, 255), surpresslightning = false, material = "models/weapons/v_smg1/texture5", skin = 0, bodygroup = {} }         }     end      function wept:PrimaryAttack()         if not self:CanPrimaryAttack() then return end         local ironsights = self:GetFireMode() == 1          self:SetNextPrimaryFire(CurTime() + self:GetFireDelay() * (ironsights and 1.2 or 1))          self:EmitFireSound()         self:TakeAmmo()         self:ShootBullets(self.Primary.Damage * (ironsights and 0.7255 or 1), self.Primary.NumShots * (ironsights and 1.5 or 1), self:GetCone())         self.IdleAnimation = CurTime() + self:SequenceDuration()     end      wept.PlayFireModeSwitchSound = function(self, fm)         fm = tonumber(fm)         if CLIENT then             if fm == 1 then                 surface.PlaySound("npc/scanner/scanner_scan4.wav")             else                 surface.PlaySound("npc/scanner/scanner_scan2.wav")             end         end     end      wept.FireModeChanged = function(self, fm) end      function wept:SecondaryAttack()         if self:GetNextSecondaryFire() <= CurTime() and not self:GetOwner():IsHolding() and self:GetReloadFinish() == 0 then             self:SetIronsights(true)         end     end end) branch.CollectiveName = "Galestorm" branch.Killicon = "weapon_zs_galestorm" branch.Colors = {Color(190, 220, 210), Color(140, 170, 160), Color(100, 170, 145), Color(70, 150, 100)} GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_FIRE_DELAY, -0.031, 3) GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_CLIP_SIZE, 2, 1)  branch = GAMEMODE:AddNewRemantleBranch(SWEP, 3, "'Whirlwind' Shower Rifle", "Uses rifle ammo, splits into 2 shots, shoots slower, but more damage and more accuracy", function(wept)     wept.Primary.Delay    = wept.Primary.Delay * 5.5     wept.Primary.Damage   = wept.Primary.Damage * 1.8     wept.Primary.Ammo     = "357"     wept.Primary.NumShots = 2     wept.ResistanceAmmoAs = "357"     wept.Primary.ClipSize = wept.Primary.ClipSize - 24      wept.ConeMin = wept.ConeMin * 0.33     wept.ConeMax = wept.ConeMax * 0.5      wept.EmitFireSound = function(self)         self:EmitSound("weapons/p90/p90-1.wav", 70, 105, 0.65, CHAN_AUTO)         self:EmitSound("weapons/sg552/sg552-1.wav", 70, 235, 0.65, CHAN_AUTO)     end      local mat = Material("models/weapons/v_irifle/v_irifle_core")     wept.PreDrawViewModel = function(self, vm)         render.MaterialOverrideByIndex(0, mat)         render.SetColorModulation(33/255, 120/255, 81/255)          BaseClass.PreDrawViewModel(self, vm)     end     wept.PostDrawViewModel = function(self, vm)         render.MaterialOverrideByIndex(0)         render.SetColorModulation(1, 1, 1)          BaseClass.PostDrawViewModel(self, vm)     end end) branch.CollectiveName = "Whirlwind" branch.Colors = {Color(190, 210, 220), Color(140, 160, 170), Color(100, 145, 170), Color(70, 100, 150)} branch.DamageScaling = 1 GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_FIRE_DELAY, -0.01) GAMEMODE:AttachWeaponModifierToBranch(branch, WEAPON_MODIFIER_CLIP_SIZE, 1)