local BaseClass = baseclass.Get("weapon_zs_baseproj") local BaseClassShotgun = baseclass.Get("weapon_zs_baseshotgun")  SWEP.PrintName = "'Fuse' Grenade Launcher" SWEP.Description = "Hand reloaded grenade launcher. The grenades have low radius and damage but high speed."  SWEP.Base = "weapon_zs_baseproj"  SWEP.HoldType = "shotgun"  SWEP.ViewModel = "models/weapons/c_shotgun.mdl" SWEP.WorldModel = "models/weapons/w_shotgun.mdl" SWEP.UseHands = true  SWEP.CSMuzzleFlashes = false  SWEP.Primary.ClipSize = 3 SWEP.Primary.Automatic = true SWEP.Primary.Ammo = "impactmine" SWEP.Primary.Delay = 1 SWEP.Primary.DefaultClip = 3 SWEP.Primary.Damage = 90 SWEP.Primary.NumShots = 1  SWEP.ConeMax = 4 SWEP.ConeMin = 1.75  SWEP.WalkSpeed = SPEED_SLOW  SWEP.Tier = 3  SWEP.ReloadDelay = 0.72 SWEP.FireAnimSpeed = 0.36  SWEP.Taper = 0.8 SWEP.Radius = 64  GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_FIRE_DELAY, -0.04, 1) GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_RADIUS, 6, 1)  local branch = GAMEMODE:AddNewRemantleBranch(SWEP, 1, "'Fissure' Grenade Launcher", "Smaller radius, velocity and increased taper but increased base damage, clip.", function(wept)  wept.Primary.Damage = wept.Primary.Damage * 1.75  wept.Primary.ProjVelocity = 700  wept.Primary.ClipSize = wept.Primary.ClipSize + 1   wept.Radius = wept.Radius * (46/64)  wept.Taper = 0.5   wept.WalkSpeed = SPEED_NORMAL   if SERVER then  wept.EntModify = function(self, ent)  ent:SetDTInt(0, 1)  end  end   wept.ViewModelBoneMods = {  ["ValveBiped.Gun"] = { scale = Vector(1, 1, 1), pos = Vector(9, -2, -16.5), angle = Angle(0, 0, 0) },  }  wept.ViewModelBoneModsNoCentre = {  ["ValveBiped.Gun"] = { scale = Vector(1, 1, 1), pos = Vector(0, 0, -10), angle = Angle(0, 0, 0) },  }   wept.FireAnimSpeed = 0.6  wept.ViewModelFOV = 57  wept.UseHands = false   wept.HUD3DPos = Vector(3.1, 0, 11)   wept.VElements = {  ["lines++"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "body+", pos = Vector(0, 5.217, -0.871), angle = Angle(0, 0, 0), size = Vector(0.451, 0.143, 0.103), color = Color(215, 175, 255, 255), surpresslightning = false, material = "models/weapons/v_grenade/grenade body", skin = 0, bodygroup = {} },  ["lines+++++"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "body+", pos = Vector(0, 5.217, 0.87), angle = Angle(0, 0, 0), size = Vector(0.451, 0.143, 0.103), color = Color(215, 175, 255, 255), surpresslightning = false, material = "models/weapons/v_grenade/grenade body", skin = 0, bodygroup = {} },  ["body++"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Gun", rel = "body", pos = Vector(0, -19.917, 0), angle = Angle(0, 0, 0), size = Vector(0.5, 0.123, 0.25), color = Color(85, 85, 85, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["body+++"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Gun", rel = "body", pos = Vector(0.238, -12.306, 0.586), angle = Angle(0, 0, 180), size = Vector(0.391, 0.685, 0.19), color = Color(215, 175, 255, 255), surpresslightning = false, material = "models/weapons/v_grenade/grenade body", skin = 0, bodygroup = {} },  ["body++++"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Gun", rel = "body", pos = Vector(0.238, -12.306, -0.587), angle = Angle(0, 0, 0), size = Vector(0.391, 0.685, 0.19), color = Color(215, 175, 255, 255), surpresslightning = false, material = "models/weapons/v_grenade/grenade body", skin = 0, bodygroup = {} },  ["lines+++"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "body+", pos = Vector(0, -4.937, -0.871), angle = Angle(0, 0, 0), size = Vector(0.451, 0.143, 0.103), color = Color(215, 175, 255, 255), surpresslightning = false, material = "models/weapons/v_grenade/grenade body", skin = 0, bodygroup = {} },  ["body+"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Gun", rel = "body", pos = Vector(0, -12.306, 0), angle = Angle(0, 0, 0), size = Vector(0.439, 0.685, 0.234), color = Color(110, 110, 110, 255), surpresslightning = false, material = "models/weapons/v_stunbaton/w_shaft01a", skin = 0, bodygroup = {} },  ["lines++++"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "body+", pos = Vector(0, -4.937, 0.87), angle = Angle(0, 0, 0), size = Vector(0.451, 0.143, 0.103), color = Color(215, 175, 255, 255), surpresslightning = false, material = "models/weapons/v_grenade/grenade body", skin = 0, bodygroup = {} },  ["body"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Gun", rel = "", pos = Vector(0, 0, 0), angle = Angle(1.5, -90, 90), size = Vector(0.5, 0.592, 0.25), color = Color(85, 85, 85, 255), surpresslightning = false, material = "models/props_pipes/destroyedpipes01a", skin = 0, bodygroup = {} },  ["lines+"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "body+", pos = Vector(0, 0.159, -0.871), angle = Angle(0, 0, 0), size = Vector(0.451, 0.143, 0.103), color = Color(215, 175, 255, 255), surpresslightning = false, material = "models/weapons/v_grenade/grenade body", skin = 0, bodygroup = {} },  ["lines++++++"] = { type = "Model", model = "models/props_c17/light_decklight01_on.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "body+", pos = Vector(0, 0.159, 0.87), angle = Angle(0, 0, 0), size = Vector(0.451, 0.143, 0.103), color = Color(215, 175, 255, 255), surpresslightning = false, material = "models/weapons/v_grenade/grenade body", skin = 0, bodygroup = {} }  }   wept.WElements = {  ["ring"] = { type = "Model", model = "models/XQM/cylinderx1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "body1", pos = Vector(1.564, 0, 0), angle = Angle(0, 0, 0), size = Vector(0.152, 0.391, 0.391), color = Color(85, 75, 65, 255), surpresslightning = false, material = "models/props_lab/door_klab01", skin = 0, bodygroup = {} },  ["grip"] = { type = "Model", model = "models/XQM/cylinderx1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "body1", pos = Vector(-3.981, 0, 2.844), angle = Angle(90, 0, 0), size = Vector(0.264, 0.15, 0.2), color = Color(85, 75, 65, 255), surpresslightning = false, material = "models/props_lab/door_klab01", skin = 0, bodygroup = {} },  ["body1"] = { type = "Model", model = "models/XQM/cylinderx1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(7.355, 0.995, -4.148), angle = Angle(-10.601, -0.35, 0), size = Vector(1.003, 0.275, 0.275), color = Color(115, 105, 95, 255), surpresslightning = false, material = "models/props_lab/door_klab01", skin = 0, bodygroup = {} },  ["tube"] = { type = "Model", model = "models/hunter/tubes/tube4x4x1to2x2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "body1", pos = Vector(14.01, 0, 0), angle = Angle(-90, 0, 0), size = Vector(0.017, 0.017, 0.076), color = Color(115, 105, 95, 255), surpresslightning = false, material = "models/props_lab/door_klab01", skin = 0, bodygroup = {} },  ["ring++"] = { type = "Model", model = "models/XQM/cylinderx1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "body1", pos = Vector(8.194, 0, 0), angle = Angle(0, 180, -90), size = Vector(0.361, 0.275, 0.275), color = Color(185, 155, 135, 255), surpresslightning = false, material = "models/combine_advisor/mask", skin = 0, bodygroup = {} },  ["ring+"] = { type = "Model", model = "models/XQM/cylinderx1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "body1", pos = Vector(-6.891, 0, 0), angle = Angle(0, 0, 0), size = Vector(0.152, 0.391, 0.391), color = Color(85, 75, 65, 255), surpresslightning = false, material = "models/props_lab/door_klab01", skin = 0, bodygroup = {} },  ["grip+"] = { type = "Model", model = "models/XQM/cylinderx1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "body1", pos = Vector(6.39, 0, 2.844), angle = Angle(90, 0, 0), size = Vector(0.264, 0.15, 0.2), color = Color(85, 75, 65, 255), surpresslightning = false, material = "models/props_lab/door_klab01", skin = 0, bodygroup = {} },  ["top_body"] = { type = "Model", model = "models/props_c17/light_decklight01_off.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "body1", pos = Vector(-4.759, 0, -1.92), angle = Angle(90, 90, 0), size = Vector(0.118, 0.246, 0.094), color = Color(85, 75, 65, 255), surpresslightning = false, material = "models/props_lab/door_klab01", skin = 0, bodygroup = {} },  ["bottom_body"] = { type = "Model", model = "models/props_c17/light_decklight01_off.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "body1", pos = Vector(8.263, 0, 1.032), angle = Angle(-90, 90, 0), size = Vector(0.234, 0.379, 0.179), color = Color(85, 75, 65, 255), surpresslightning = false, material = "models/props_lab/door_klab01", skin = 0, bodygroup = {} }  }   wept.SendWeaponAnimation = function(self)  BaseClass.SendWeaponAnimation(self)  end end) branch.CollectiveName = "Fissure" branch.Killicon = "weapon_zs_fissure"  SWEP.ReloadActivity = ACT_VM_RELOAD SWEP.PumpActivity = ACT_SHOTGUN_RELOAD_FINISH SWEP.ReloadStartActivity = ACT_SHOTGUN_RELOAD_START SWEP.ReloadStartGesture = ACT_HL2MP_GESTURE_RELOAD_SHOTGUN  SWEP.PumpSound = Sound("weapons/shotgun/shotgun_cock.wav") SWEP.ReloadSound = Sound("weapons/shotgun/shotgun_reload1.wav")  function SWEP:EmitFireSound()  self:EmitSound("weapons/grenade_launcher1.wav", 70, 160, 0.65, CHAN_AUTO)  self:EmitSound("weapons/shotgun/shotgun_fire6.wav", 75, math.random(182, 188), 0.5, CHAN_WEAPON) end  function SWEP:SendWeaponAnimation()  self:SendWeaponAnim(ACT_VM_PRIMARYATTACK)  self:GetOwner():GetViewModel():SetPlaybackRate(self.FireAnimSpeed)   timer.Simple(0.15, function()  if IsValid(self) then  self:SendWeaponAnim(ACT_SHOTGUN_PUMP)  self:GetOwner():GetViewModel():SetPlaybackRate(self.FireAnimSpeed * 1.5)   if CLIENT and self:GetOwner() == MySelf then  self:EmitSound("weapons/m3/m3_pump.wav", 65, 70, 0.6, CHAN_AUTO)  end  end  end) end  function SWEP:SecondaryAttack()  BaseClassShotgun.SecondaryAttack(self) end  function SWEP:Reload()  BaseClassShotgun.Reload(self) end  function SWEP:Think()  return BaseClassShotgun.Think(self) end  function SWEP:StartReloading()  BaseClassShotgun.StartReloading(self) end  function SWEP:StopReloading()  BaseClassShotgun.StopReloading(self) end  function SWEP:DoReload()  BaseClassShotgun.DoReload(self) end  function SWEP:ProcessReloadAnim()  BaseClassShotgun.ProcessReloadAnim(self) end  function SWEP:GetReloadDelay()  return BaseClassShotgun.GetReloadDelay(self) end  function SWEP:ShouldDoReload()  return BaseClassShotgun.ShouldDoReload(self) end  function SWEP:IsReloading()  return BaseClassShotgun.IsReloading(self) end  function SWEP:CanReload()  return BaseClassShotgun.CanReload(self) end  function SWEP:CanPrimaryAttack()  return BaseClassShotgun.CanPrimaryAttack(self) end 