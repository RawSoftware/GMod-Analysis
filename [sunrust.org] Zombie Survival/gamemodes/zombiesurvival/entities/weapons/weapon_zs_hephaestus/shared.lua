SWEP.PrintName = "'Hephaestus' Tau Cannon" SWEP.Description = "Also known as the Gauss Gun. Launches tau projectiles at incredibly high speeds. Loses damage and accuracy over time."  SWEP.Base = "weapon_zs_base" local BaseClass = baseclass.Get("weapon_zs_base")  SWEP.HoldType = "ar2"  SWEP.ViewModel = "models/weapons/c_shotgun.mdl" SWEP.WorldModel = "models/weapons/w_physics.mdl" SWEP.ShowViewModel = false SWEP.ShowWorldModel = false SWEP.UseHands = true  SWEP.Primary.Sound = Sound("weapons/gauss/fire1.wav") SWEP.Primary.Damage = 50 SWEP.Primary.NumShots = 1 SWEP.Primary.Delay = 0.2  SWEP.Primary.ClipSize = 30 SWEP.Primary.Automatic = true SWEP.Primary.Ammo = "pulse" SWEP.Primary.DefaultClip = 30  SWEP.Secondary.Automatic = true  SWEP.ConeMax = 2.5 SWEP.ConeMin = 1.15  SWEP.HeadshotMulti = 1.75  SWEP.ChargeDelay = 0.12  SWEP.Tier = 6 SWEP.MaxStock = 2  GAMEMODE:AttachWeaponModifier(SWEP, WEAPON_MODIFIER_FIRE_DELAY, -0.01)  GAMEMODE:AddNewRemantleBranch(SWEP, 1, "'Prometheus' Orb Array", "Uses 9 pulse shots to fire a projectile which explodes into several small raining projectiles.", function(wept)  wept.Primary.Delay = wept.Primary.Delay * 4.75  wept.Primary.Damage = wept.Primary.Damage * (95/50)  wept.Primary.NumShots = 2     wept.Primary.ClipSize = 27     wept.RequiredClip = 9     wept.HeadshotMulti = nil     wept.ReloadSpeed = 0.15   wept.WElements = {  ["backtopdetail"] = { type = "Model", model = "models/XQM/cylinderx1.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "back2", pos = Vector(-2.36, 0, -0.25), angle = Angle(0, 0, 0), size = Vector(0.246, 0.28, 0.119), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["FRONT3"] = { type = "Model", model = "models/hunter/triangles/05x05x05.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(-3.924, 0, -2.901), angle = Angle(180, -90, 0), size = Vector(0.115, 0.231, 0.039), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["chamber1"] = { type = "Model", model = "models#/props_lab/rotato.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "backwheelturner", pos = Vector(-0.791, -1.3, 2.95), angle = Angle(180, 0, -90), size = Vector(0.349, 1.25, 0.349), color = Color(165, 45, 45, 255), surpresslightning = false, material = "phoenix_storms/simplymetallic2", skin = 0, bodygroup = {} },  ["FRONT2+"] = { type = "Model", model = "models/XQM/cylinderx1big.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(-4.345, 0, -0.051), angle = Angle(0, 0, 0), size = Vector(0.123, 0.079, 0.079), color = Color(165, 45, 45, 255), surpresslightning = false, material = "phoenix_storms/wood_dome", skin = 0, bodygroup = {} },  ["FRONT2"] = { type = "Model", model = "models/XQM/deg180single.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(-1.657, 0, 2.569), angle = Angle(0, 0, 0), size = Vector(0.229, 0.09, 0.109), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["railing1+"] = { type = "Model", model = "models/props_lab/pipesystem02e.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(1.121, 0.381, -2.737), angle = Angle(-60, 90, -90), size = Vector(0.272, 0.189, 0.419), color = Color(255, 65, 65, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["railing1+++"] = { type = "Model", model = "models/props_lab/pipesystem02e.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(3.124, -0.415, 1.192), angle = Angle(122, 90, -90), size = Vector(0.272, 0.189, 0.419), color = Color(255, 65, 65, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["chamber1++"] = { type = "Model", model = "models/props_lab/rotato.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "backwheelturner", pos = Vector(-0.791, 1.299, 2.95), angle = Angle(180, 0, -90), size = Vector(0.349, 1.25, 0.349), color = Color(165, 45, 45, 255), surpresslightning = false, material = "phoenix_storms/simplymetallic2", skin = 0, bodygroup = {} },  ["chamber1+"] = { type = "Model", model = "models/props_lab/rotato.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "backwheelturner", pos = Vector(1.44, 0, 2.95), angle = Angle(180, 0, -90), size = Vector(0.349, 1.25, 0.349), color = Color(165, 45, 45, 255), surpresslightning = false, material = "phoenix_storms/simplymetallic2", skin = 0, bodygroup = {} },  ["railing1++"] = { type = "Model", model = "models/props_lab/pipesystem02e.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(1.121, -0.415, -2.737), angle = Angle(60, 90, -90), size = Vector(0.272, 0.189, 0.419), color = Color(255, 65, 65, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["backwheelturner"] = { type = "Model", model = "models/mechanics/wheels/wheel_speed_72.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "back2", pos = Vector(-0.371, 0, 2.788), angle = Angle(90, -90, 90), size = Vector(0.05, 0.05, 0.05), color = Color(145, 85, 85, 0), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["back"] = { type = "Model", model = "models/props_c17/lamp_standard_off01.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(-6.378, 0, -0.232), angle = Angle(90, 0, 0), size = Vector(0.243, 0.243, 0.155), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["BACKturner_appearence"] = { type = "Model", model = "models/props_c17/playgroundTick-tack-toe_block01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "backwheelturner", pos = Vector(0.4, 0, 0.079), angle = Angle(0, 90, -90), size = Vector(0.2, 0.043, 0.2), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["railing1++++"] = { type = "Model", model = "models/props_lab/pipesystem02e.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(3.124, 0.381, 1.192), angle = Angle(-122, 90, -90), size = Vector(0.272, 0.189, 0.419), color = Color(255, 65, 65, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["front2_metaledges"] = { type = "Model", model = "models/mechanics/solid_steel/type_b_2_2.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT2+", pos = Vector(0, 0, 0), angle = Angle(0, 0, 0), size = Vector(0.159, 0.239, 0.239), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["topfront"] = { type = "Model", model = "models/props_phx/trains/double_wheels_base.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(-4.953, 0, -2.777), angle = Angle(180, 0, 0), size = Vector(0.026, 0.027, 0.016), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["BACK3"] = { type = "Model", model = "models/props_combine/headcrabcannister01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(-17.06, 0, 0.769), angle = Angle(180, 0, 0), size = Vector(0.035, 0.059, 0.07), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["back2"] = { type = "Model", model = "models/mechanics/articulating/arm_base_b.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "FRONT", pos = Vector(-15.551, 0, -2.181), angle = Angle(180, 0, 180), size = Vector(0.219, 0.104, 0.125), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["FRONT"] = { type = "Model", model = "models/props_combine/headcrabcannister01a.mdl", bone = "ValveBiped.Bip01_R_Hand", rel = "", pos = Vector(20.058, 2.303, -6.487), angle = Angle(-13.343, -3.133, 0), size = Vector(0.035, 0.134, 0.119), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} }  }  wept.VElements = {  ["spinners"] = { type = "Model", model = "models/props_lab/rotato.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "backwheel", pos = Vector(-0.791, -1.3, 2.95), angle = Angle(180, 0, -90), size = Vector(0.349, 1.25, 0.349), color = Color(165, 45, 45, 255), surpresslightning = false, material = "phoenix_storms/simplymetallic2", skin = 0, bodygroup = {} },  ["backwheel"] = { type = "Model", model = "models/mechanics/wheels/wheel_speed_72.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "back2", pos = Vector(-0.371, 0, 2.788), angle = Angle(90, -90, 90), size = Vector(0.05, 0.05, 0.05), color = Color(145, 85, 85, 0), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["frontrail++"] = { type = "Model", model = "models/props_lab/pipesystem02e.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(3.124, -0.415, 1.192), angle = Angle(122, 90, -90), size = Vector(0.272, 0.189, 0.419), color = Color(255, 65, 65, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["frontrail"] = { type = "Model", model = "models/props_lab/pipesystem02e.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(1.121, 0.381, -2.737), angle = Angle(-60, 90, -90), size = Vector(0.272, 0.189, 0.419), color = Color(255, 65, 65, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["back"] = { type = "Model", model = "models/props_c17/lamp_standard_off01.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(-6.378, 0, -0.244), angle = Angle(90, 0, 0), size = Vector(0.243, 0.243, 0.155), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["spinners+"] = { type = "Model", model = "models/props_lab/rotato.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "backwheel", pos = Vector(1.44, 0, 2.95), angle = Angle(180, 0, -90), size = Vector(0.349, 1.25, 0.349), color = Color(165, 45, 45, 255), surpresslightning = false, material = "phoenix_storms/simplymetallic2", skin = 0, bodygroup = {} },  ["Front2"] = { type = "Model", model = "models/XQM/deg180single.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(-1.657, 0, 2.569), angle = Angle(0, 0, 0), size = Vector(0.229, 0.09, 0.109), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["frontrail+"] = { type = "Model", model = "models/props_lab/pipesystem02e.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(1.121, -0.415, -2.737), angle = Angle(60, 90, -90), size = Vector(0.272, 0.189, 0.419), color = Color(255, 65, 65, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["Front"] = { type = "Model", model = "models/props_combine/headcrabcannister01a.mdl", bone = "ValveBiped.Gun", rel = "", pos = Vector(-0.849, 1.128, 1.047), angle = Angle(90, 0, 90), size = Vector(0.035, 0.134, 0.119), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["backwheel_appearence"] = { type = "Model", model = "models/props_c17/playgroundTick-tack-toe_block01a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "backwheel", pos = Vector(0.4, 0, 0), angle = Angle(0, 90, -90), size = Vector(0.2, 0.043, 0.2), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["spinners++"] = { type = "Model", model = "models/props_lab/rotato.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "backwheel", pos = Vector(-0.791, 1.299, 2.95), angle = Angle(180, 0, -90), size = Vector(0.349, 1.25, 0.349), color = Color(165, 45, 45, 255), surpresslightning = false, material = "phoenix_storms/simplymetallic2", skin = 0, bodygroup = {} },  ["FRONT3_metal"] = { type = "Model", model = "models/mechanics/solid_steel/type_b_2_2.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front3", pos = Vector(0, 0, 0), angle = Angle(0, 0, 0), size = Vector(0.159, 0.239, 0.239), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["Front3"] = { type = "Model", model = "models/XQM/cylinderx1big.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(-4.345, 0, -0.051), angle = Angle(0, 0, 0), size = Vector(0.123, 0.079, 0.079), color = Color(165, 45, 45, 255), surpresslightning = false, material = "phoenix_storms/wood_dome", skin = 0, bodygroup = {} },  ["Front4"] = { type = "Model", model = "models/hunter/triangles/05x05x05.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(-3.924, 0, -2.901), angle = Angle(180, -90, 0), size = Vector(0.115, 0.231, 0.039), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["frontrail+++"] = { type = "Model", model = "models/props_lab/pipesystem02e.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(3.124, 0.381, 1.192), angle = Angle(-122, 90, -90), size = Vector(0.272, 0.189, 0.419), color = Color(255, 65, 65, 255), surpresslightning = false, material = "", skin = 0, bodygroup = {} },  ["BACK_detail"] = { type = "Model", model = "models/XQM/cylinderx1.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "back2", pos = Vector(-2.36, 0, -0.25), angle = Angle(0, 0, 0), size = Vector(0.246, 0.28, 0.119), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["Front5"] = { type = "Model", model = "models/props_phx/trains/double_wheels_base.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(-4.953, 0, -2.777), angle = Angle(180, 0, 0), size = Vector(0.026, 0.027, 0.016), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["back2"] = { type = "Model", model = "models/mechanics/articulating/arm_base_b.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(-15.551, 0, -2.181), angle = Angle(180, 0, 180), size = Vector(0.219, 0.104, 0.125), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} },  ["back3"] = { type = "Model", model = "models/props_combine/headcrabcannister01a.mdl", bone = "ValveBiped.Bip01_Spine4", rel = "Front", pos = Vector(-17.06, 0, 0.769), angle = Angle(180, 0, 0), size = Vector(0.035, 0.059, 0.07), color = Color(145, 85, 85, 255), surpresslightning = false, material = "models/props_wasteland/tugboat02", skin = 0, bodygroup = {} }  }      function wept:TakeAmmo()         BaseClass.TakeAmmo(self)     end      function wept:ShootBullets(dmg, numbul, cone)         local owner = self:GetOwner()         self:SendWeaponAnimation()         owner:DoAttackEvent()          self.LastVel = 14          if SERVER then             self:ShootProjectile(dmg, cone, "projectile_prometheus", 500)         end     end      function wept:EmitFireSound()         self:EmitSound("weapons/zs_ray/zapgun_shot.ogg", 75, 80, 0.7)         self:EmitSound("weapons/zs_inner/innershot.ogg", 75, 65, 0.8, CHAN_WEAPON + 1)     end      function wept:CanPrimaryAttack()         return BaseClass.CanPrimaryAttack(self)     end      function wept:Think()         BaseClass.Think(self)     end      function wept:Reload()         BaseClass.Reload(self)     end      function wept:EmitReloadSound()  if IsFirstTimePredicted() then  self:EmitSound("weapons/ar2/ar2_reload_rotate.wav", 70, 55)  self:EmitSound("items/battery_pickup.wav", 70, 77, 0.85, CHAN_AUTO)  end  end      if CLIENT then         wept.HUD3DBone = "ValveBiped.Gun"         wept.HUD3DPos = Vector(1.75, 0, -8)         wept.HUD3DScale = 0.025          function wept:Draw2DHUD()             local rotators = self.VElements["backwheel"].angle             local vel = Lerp(0.03, self.LastVel, self:GetGunCharge() * FrameTime() * 130)             rotators.p = rotators.p + vel              self.LastVel = vel              BaseClass.Draw2DHUD(self)         end          function wept:Draw3DHUD(vm, pos, ang)             BaseClass.Draw3DHUD(self, vm, pos, ang)         end   local ghostlerp = 0  function wept:CalcViewModelView(vm, oldpos, oldang, pos, ang)  if self:GetOwner():GetBarricadeGhosting() or self:GetReloadFinish() > 0 then  ghostlerp = math.min(1, ghostlerp + FrameTime() * 1)  elseif ghostlerp > 0 then  ghostlerp = math.max(0, ghostlerp - FrameTime() * 1.5)  end   if ghostlerp > 0 then  ang:RotateAroundAxis(ang:Right(), -35 * ghostlerp)  end   return pos, ang  end     end end).CollectiveName = "Prometheus"  SWEP.WalkSpeed = SPEED_SLOW SWEP.FireAnimSpeed = 1  SWEP.TracerName = "tracer_heph"  function SWEP:Deploy()     self:SetCharging(false)     self:SetWeaponBuildup(1)      return self.BaseClass.Deploy(self) end  function SWEP:TakeAmmo()  self:TakeCombinedPrimaryAmmo(1)   if CLIENT then  self.LastVel = 7  end end  function SWEP:Reload() end  function SWEP:ShootBullets(dmg, numbul, cone)     local inv = 1 - self:GetWeaponBuildup()     dmg = dmg * (0.75 + inv * 0.25)      BaseClass.ShootBullets(self, dmg, numbul, cone) end  function SWEP:Initialize()  self.BaseClass.Initialize(self)   self.ChargeSound = CreateSound(self, "weapons/gauss/chargeloop.wav") end  function SWEP:CanPrimaryAttack()  if self:GetPrimaryAmmoCount() <= 0 then  return false  end   if self:GetCharging() or self:GetOwner():IsHolding() or self:GetOwner():GetBarricadeGhosting() then return false end   return self:GetNextPrimaryFire() <= CurTime() end  function SWEP:SecondaryAttack()  if not self:CanPrimaryAttack() or self:GetCharging() then return end   self:SetNextPrimaryFire(CurTime() + self:GetFireDelay())  self:SetLastChargeTime(CurTime())  self:TakeAmmo()  self:SetCharging(true) end  local function DoRicochet(attacker, hitpos, hitnormal, normal, damage)  attacker.RicochetBullet = true  if attacker:IsValid() then         FORCE_B_EFFECT = true  attacker:FireBulletsLua(hitpos, 2 * hitnormal * hitnormal:Dot(normal * -1) + normal, 0, 1, damage, nil, nil, "tracer_heph_alt", nil, nil, nil, nil, nil, attacker:GetActiveWeapon())         FORCE_B_EFFECT = nil     end  attacker.RicochetBullet = nil end SWEP.BulletCallback = function(attacker, tr, dmginfo)  if SERVER and tr.HitWorld and not tr.HitSky and tr.HitNormal:Dot(tr.Normal) > -0.35 then  local hitpos, hitnormal, normal, dmg = tr.HitPos, tr.HitNormal, tr.Normal, dmginfo:GetDamage() * 1.2  timer.Simple(0, function() DoRicochet(attacker, hitpos, hitnormal, normal, dmg) end)  end   return {impact = false} end  SWEP.GetCone = function(self)     return BaseClass.GetCone(self) * (1 + self:GetWeaponBuildup(9) * 2.5) end  function SWEP:CheckCharge()  if self:GetCharging() then  local owner = self:GetOwner()  if not owner:KeyDown(IN_ATTACK2) then  self:EmitFireSound()   self.FireAnimSpeed = 0.3  self:ShootBullets(self.Primary.Damage * math.max(1, self:GetGunCharge() * 0.8), self.Primary.NumShots, self:GetCone())  self.IdleAnimation = CurTime() + self:SequenceDuration()  self.FireAnimSpeed = 1              local charge = self:GetGunCharge()             if charge >= 4 then                 local force = math.max(8, charge + 1)                  owner:SetGroundEntity(NULL)                 owner:SetVelocity(-30 * force * owner:GetAimVector())             end   self:SetNextPrimaryFire(CurTime() + self:GetFireDelay() * 3)  self:SetCharging(false)  self:SetLastChargeTime(CurTime())  self:SetGunCharge(0)  elseif self:GetGunCharge() < 11 and self:GetPrimaryAmmoCount() ~= 0 and self:GetLastChargeTime() + self.ChargeDelay < CurTime() then  self:SetGunCharge(self:GetGunCharge() + 1)  self:SetLastChargeTime(CurTime())  self:TakeAmmo()  end   self.ChargeSound:PlayEx(1, math.min(255, 47 + self:GetGunCharge() * 16))  else  self.ChargeSound:Stop()  end      if self:GetOwner():KeyDown(IN_ATTACK) then         self:SetWeaponBuildup(math.min(1, self:GetWeaponBuildup() + FrameTime() * 0.15))     else         local frametime = FrameTime()         local frametimeadj = frametime * self:GetReloadSpeedMultiplier()         self:SetWeaponBuildup(math.max(0, self:GetWeaponBuildup() - frametimeadj * 0.3))     end end  function SWEP:SetLastChargeTime(lct)  self:SetDTFloat(8, lct) end  function SWEP:GetLastChargeTime()  return self:GetDTFloat(8) end  function SWEP:SetGunCharge(charge)  self:SetDTInt(1, charge) end  function SWEP:GetGunCharge(charge)  return self:GetDTInt(1) end  function SWEP:SetCharging(charge)  self:SetDTBool(1, charge) end  function SWEP:GetCharging()  return self:GetDTBool(1) end  function SWEP:EmitFireSound()  local deduct = self:GetCharging() and 100 - self:GetGunCharge() or 100  local owner = self:GetOwner()   self:EmitSound("weapons/gauss/fire1.wav", 75, deduct, 0.9)  timer.Simple(0.2, function()  if self:IsValid() and owner:IsValid() and not owner:KeyDown(IN_ATTACK) then  self:EmitSound("weapons/zs_heph/electro"..math.random(4,6)..".wav", 75, deduct, 0.75, CHAN_WEAPON + 20)  end  end) end 