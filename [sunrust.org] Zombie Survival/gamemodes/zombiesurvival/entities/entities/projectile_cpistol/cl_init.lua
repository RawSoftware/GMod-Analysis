include("shared.lua")  ENT.NextEmit = 0 ENT.Seed = 0  local matGlow = Material("effects/splash2") local matSplay = Material("particles/smokey") function ENT:Draw()  local alt = self:GetDTBool(0)  local c = Color(100, alt and 130 or 235, alt and 230 or 90, 130)  self:SetColor(c)  render.SetBlend(0.7)  self:DrawModel()  render.SetBlend(1)   local pos = self:GetPos()  local add = math.sin((CurTime() + self.Seed) * 3) * 1   render.SetMaterial(matSplay)  render.DrawSprite(pos, 3 - add, 3 + add, c)  render.SetMaterial(matGlow)  render.DrawSprite(pos, 6 + add, 6 - add, c) end  function ENT:OnRemove()  local pos = self:GetPos()  local alt = self:GetDTBool(0)  local c = Color(100, alt and 130 or 235, alt and 230 or 90, 130)   local emitter = ParticleEmitter(pos)  emitter:SetNearClip(24, 32)  local particle  for i=1, 3 do  particle = emitter:Add("particles/smokey", pos)  particle:SetDieTime(0.4)  particle:SetColor(c.r, c.g, c.b)  particle:SetStartAlpha(55)  particle:SetEndAlpha(0)  particle:SetStartSize(3)  particle:SetEndSize(0)  particle:SetGravity(Vector(0, 0, -300))  particle:SetVelocity(VectorRand():GetNormal() * 30)  end  emitter:Finish() emitter = nil collectgarbage("step", 64) end 