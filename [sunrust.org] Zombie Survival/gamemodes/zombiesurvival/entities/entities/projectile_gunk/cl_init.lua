include("shared.lua")  ENT.NextEmit = 0  function ENT:Initialize()  self:DrawShadow(false)  self.Size = 6 end  local colFlesh = Color(255, 0, 0, 0) local mat = Material("particles/smokey") function ENT:Draw()  local size = self.Size   render.SetMaterial(mat)  local pos = self:GetPos()  render.DrawSprite(pos, size, size, colFlesh)   if CurTime() < self.NextEmit then return end  self.NextEmit = CurTime() + 0.05   local emitter = ParticleEmitter(pos)  emitter:SetNearClip(36, 44)  local particle = emitter:Add(mat, pos + VectorRand():GetNormalized() * math.Rand(1, 4))  particle:SetColor(0, 0, 0)  particle:SetVelocity(VectorRand():GetNormalized() * math.Rand(1, 4))  particle:SetDieTime(math.Rand(0.3, 0.4))  particle:SetStartAlpha(230)  particle:SetEndAlpha(200)  particle:SetStartSize(size * math.Rand(1.2, 1.4))  particle:SetEndSize(0)  particle:SetRoll(math.Rand(0, 360))  particle:SetRollDelta(math.Rand(-4, 4))   particle:SetLighting(true)    emitter:Finish() emitter = nil collectgarbage("step", 64) end 