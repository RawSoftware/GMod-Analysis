include("shared.lua")  ENT.NextEmit = 0 ENT.Mins = Vector(0, 0, 0) ENT.Maxs = Vector(0, 0, 0)  function ENT:Initialize()  self.AmbientSound = CreateSound(self, "player/general/flesh_burn.wav")  self:SetColor(Color(0, 255, 0, 255))   local owner = self:GetOwner()  if not owner:IsValid() then return true end  self.Mins = owner:OBBMins() * 1.02  self.Maxs = owner:OBBMaxs() * 1.02 end  function ENT:OnRemove()  self.AmbientSound:Stop() end  function ENT:Think()  self:NextThink(CurTime() + 1)  local owner = self:GetOwner()  if not owner:IsValid() then return true end  local pos = owner:GetPos()  self:SetPos(pos)  self.AmbientSound:PlayEx(0.3, 60)  return true end  local grav = Vector(0, 0, -600) local rand_vec = Vector(0, 0, 0) function ENT:Draw()  if CurTime() < self.NextEmit then return end   local owner = self:GetOwner()  if owner:IsValid() then   self.NextEmit = UnPredictedCurTime() + 0.15  local pos = owner:GetPos()  local emitter = ParticleEmitter(pos)  emitter:SetNearClip(16, 24)    for i=1, 2 do  local fix_dim = math.random(3)             rand_vec.x = math.Rand(self.Mins.x, self.Maxs.x)             rand_vec.y = math.Rand(self.Mins.y, self.Maxs.y)             rand_vec.z = math.Rand(self.Mins.z, self.Maxs.z)   rand_vec[fix_dim] = math.random(2) == 1 and self.Mins[fix_dim] or self.Maxs[fix_dim]    pos = owner:LocalToWorld( rand_vec )   local particle = emitter:Add("particles/smokey", pos)  particle:SetVelocity(VectorRand():GetNormalized() * math.Rand(10, 20))  particle:SetAirResistance(200)  particle:SetDieTime(math.Rand(0.7, 0.8))  particle:SetStartAlpha(200)  particle:SetEndAlpha(0)  particle:SetStartSize(math.Rand(1, 2))  particle:SetEndSize(0)             particle:SetStartLength(0)             particle:SetEndLength(40)  particle:SetRoll(math.Rand(0, 360))  particle:SetRollDelta(math.Rand(-30, 30))  particle:SetColor(0, 200, 0)  particle:SetLighting(false)  particle:SetGravity(grav)  particle:SetBounce(1)  end   emitter:Finish() emitter = nil collectgarbage("step", 64)    end end 