include("shared.lua")  ENT.ParticleTimer = 0  function ENT:OnInitialize()  self:SetRenderBounds(Vector(-40, -40, -18), Vector(40, 40, 128))   if self:GetOwner() ~= MySelf then return end  self.AmbientSound = CreateSound(self, "player/heartbeat1.wav")  self.AmbientSound:PlayEx(0.85, 150) end  function ENT:OnRemove()  local owner = self:GetOwner()  if owner == MySelf then  self.AmbientSound:Stop()  end   self.BaseClass.OnRemove(self) end   local function GetRandomBonePos(pl)  if pl ~= MySelf or pl:ShouldDrawLocalPlayer() then  local bone = pl:GetBoneMatrix(math.random(0,25))  if bone then  return bone:GetTranslation()  end  end   return pl:GetShootPos() end  local matGlow = Material("sprites/light_glow02_add") local LocalToWorld = LocalToWorld local angle_zero = angle_zero local vecTongue = Vector(0, -8, 0) function ENT:DrawTranslucent()  local ent = self:GetOwner()     if not MySelf then return end  if not ent:IsValid() then return end  if ent.SpawnProtection then return end  if not ent:ShouldDrawLocalPlayer() then return end    local headpos   local boneid = (ent ~= MySelf or ent:ShouldDrawLocalPlayer()) and ent:LookupBone("ValveBiped.Bip01_Head1")  if boneid and boneid > 0 then  local p, a = ent:GetBonePositionMatrixed(boneid)  headpos = p  else  headpos = ent:WorldSpaceCenter()  end   if ent == MySelf and not ent:ShouldDrawLocalPlayer() then  local aa, bb = ent:WorldSpaceAABB()  pos = Vector(math.Rand(aa.x, bb.x), math.Rand(aa.y, bb.y), math.Rand(aa.z, bb.z))  else  pos = GetRandomBonePos(ent)  end   local emitter = ParticleEmitter(self:GetPos())  emitter:SetNearClip(24, 32)  render.SetMaterial(matGlow)   if self.ParticleTimer <= CurTime() then  self.ParticleTimer = CurTime() + 0.065   local scale = MySelf:GetModelScale()   local particle = emitter:Add("sprites/glow04_noz", pos + VectorRand():GetNormalized() * 2)  particle:SetDieTime(0.65)  particle:SetStartSize(12 * scale)  particle:SetEndSize(5 * scale)  particle:SetColor(220, 30, 100)  particle:SetStartAlpha(0)  particle:SetEndAlpha(90)   particle:SetGravity(Vector(0, 0, 64))  particle:SetVelocity(ent:GetVelocity())  particle:SetRoll(math.random(0, 360))  particle:SetRollDelta(math.random(-32, 32))  particle = emitter:Add("particles/smokey", LocalToWorld(vecTongue, angle_zero, headpos, angle_zero))  particle:SetVelocity(VectorRand():GetNormalized() * math.Rand(1, 4))  particle:SetDieTime(2)  particle:SetStartAlpha(230)  particle:SetEndAlpha(0)  particle:SetStartSize(1)  particle:SetEndSize(0)  particle:SetRoll(math.Rand(0, 360))  particle:SetRollDelta(math.Rand(-25, 25))  particle:SetGravity(Vector(0, 0, -100))  particle:SetColor(0, 200, 0)  end   emitter:Finish() emitter = nil collectgarbage("step", 64) end 