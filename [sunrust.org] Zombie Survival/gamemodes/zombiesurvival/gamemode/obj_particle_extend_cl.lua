function ShouldDrawGlobalParticles(pos)     if EyePos():DistToSqr(pos) > GAMEMODE.DistanceDrawParticleDist then         return false     end      local chance = math.random(0, 100)     if GAMEMODE.DistanceDrawParticlePerc == 0 or chance > GAMEMODE.DistanceDrawParticlePerc then         return false     end      return true end  local MEffect = FindMetaTable("CLuaParticle") if not MEffect.OldSetDieTime then     MEffect.OldSetDieTime = MEffect.SetDieTime      function MEffect:SetDieTime(num)         local chance = math.random(0, 100)          if EyePos():DistToSqr(self:GetPos()) > GAMEMODE.DistanceDrawParticleDist and not self.CannotBePruned then             return self:OldSetDieTime(0)         end          if GAMEMODE.DistanceDrawParticlePerc == 0 or chance > GAMEMODE.DistanceDrawParticlePerc and not self.CannotBePruned then             return self:OldSetDieTime(0)         end          return self:OldSetDieTime(num)     end end