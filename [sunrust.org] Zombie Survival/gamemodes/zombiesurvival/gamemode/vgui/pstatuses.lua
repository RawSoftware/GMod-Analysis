local texDownEdge = surface.GetTextureID("gui/gradient_down") local function MakeStatusEffectPanel(host, status_tbl)     local frame = vgui.Create("DPanel", host)     local screenscale = BetterScreenScale()     local boxsize = 42 * screenscale      frame:SetSize(frame:GetWide(), boxsize)     frame:Dock(TOP)  frame:DockMargin(0, 0, 0, 12)     frame.Paint = function(me, w, h)         local col = status_tbl.Color          local status_x = 0         local status_y = 0          surface.SetDrawColor(col.r * 0.8, col.g * 0.8, col.b * 0.8, col.a * 0.75)         surface.SetTexture(texDownEdge)         surface.DrawTexturedRect(status_x, status_y, boxsize, boxsize)         surface.SetDrawColor(col.r * 0.8, col.g * 0.8, col.b * 0.8, col.a * 0.3)         surface.DrawRect(status_x, status_y, boxsize, boxsize)          if status_tbl.Icon then             surface.SetMaterial(status_tbl.Icon)             surface.SetDrawColor(col.r * 0.6 + 100, col.g * 0.6 + 100, col.b * 0.6 + 100, col.a * 0.8)             surface.DrawTexturedRect(status_x, status_y, boxsize, boxsize)         end          local font_height = draw.GetFontHeight("ZSBodyTextFont")          draw.SimpleText(status_tbl.Name, "ZSBodyTextFont", boxsize * 1.2, boxsize * 0.15, col)         draw.SimpleText(status_tbl.Description or "", "ZSBodyTextFontSmall", boxsize * 1.2, (boxsize / 2) + font_height / 4, Color(255, 255, 255))     end      return frame end  function GM:ShowStatusEffectsPanel()     local screenscale = BetterScreenScale()     local wid, hei = math.min(ScrW(), 800) * screenscale, math.min(ScrH(), 800) * screenscale      local frame = vgui.Create("DFrame")     frame:SetDeleteOnClose(false)     frame:SetSize(wid, hei)     frame:SetTitle(" ")     frame:Center()          GAMEMODE.StatusEffectsPanel = frame      local y = 8      local title = EasyLabel(frame, "Status Effects", "ZSHUDFont", color_white)     title:SetPos(wid * 0.5 - title:GetWide() * 0.5, y)      frame.Title = title      frame:MakePopup()      local scroll_list = vgui.Create("DScrollPanel", frame)     scroll_list:CenterHorizontal(0.05)     scroll_list:MoveBelow(title, 16 * screenscale)     scroll_list:SetSize(frame:GetWide() * 0.95, frame:GetTall() * 0.9)      for _, status_tbl in pairs(self.StatusDisplays) do         scroll_list:Add(MakeStatusEffectPanel(scroll_list, status_tbl))     end end