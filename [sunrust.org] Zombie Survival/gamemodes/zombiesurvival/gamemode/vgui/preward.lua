local function CreateRewardPanelTrinket(host, i, trinket)     local item = GAMEMODE.ZSInventoryItemData[trinket]     local screenscale = BetterScreenScale()     if not item then return end          local item_name = item.PrintName     local host_wide = host:GetWide()     local _, title_y = host.Title:GetPos()      local padding = 16 * screenscale     local side_space = 150 * screenscale     local panel_wid = (host_wide - side_space) / 3 - padding      local panel = vgui.Create("DButton", host)     panel:SetPos(side_space * 0.5 + padding * 0.5 + screenscale + panel_wid * (i - 1) + padding * (i - 1), title_y + 64 * screenscale)     panel:SetSize(panel_wid, host:GetTall() * 0.8)     panel:SetMouseInputEnabled(true)     panel:SetText("")     panel.Paint = function(me, w, h)         if me.Hovered then             surface.SetDrawColor(31, 93, 35, 163)             surface.DrawRect(0, 0, w, h)         end          surface.SetDrawColor(31, 33, 35, 113)         surface.DrawRect(2, 2, w - 4, h - 4)     end     panel.DoClick = function()         RunConsoleCommand("zs_claim_unveil", "comp_bounty", i)     end      local y = 16      local title = EasyLabel(panel, item_name, "ZSHUDFontSmall", color_white)     title:SetPos(panel_wid * 0.5 - title:GetWide() * 0.5, y)      y = y + title:GetTall() + 8      local model_frame = vgui.Create("DPanel", panel)     model_frame:SetSize(56 * screenscale, 56 * screenscale)     model_frame:CenterHorizontal()     model_frame:MoveBelow(title, 32)     model_frame.Paint = function() end      local icon = GAMEMODE.TrinketCategoryIcons[item.Category]     local kitbl = killicon.Get(icon)     if kitbl then         GAMEMODE:AttachKillicon(kitbl, nil, model_frame, nil, nil)     end      local assoc_skill = GAMEMODE:GetItemAssociatedSkill(trinket, 0)     local skill       = assoc_skill.Skill      local desc_key = "Description" .. (skill and GAMEMODE:GetAffixOfQuality(0, 0) or "")     desctext = item[desc_key] or ""      local itemdesc = vgui.Create("DLabel", panel)  itemdesc:SetFont("ZSBodyTextFontBig")  itemdesc:SetTextColor(COLOR_GRAY)  itemdesc:SetMultiline(true)  itemdesc:SetWrap(true)  itemdesc:SetAutoStretchVertical(true)  itemdesc:SetWide(panel:GetWide() - 16)  itemdesc:CenterHorizontal()  itemdesc:SetText(desctext)  itemdesc:MoveBelow(model_frame, 64)      return panel end  local my_bounties net.Receive("zs_bountyunveil", function()     my_bounties = net.ReadTable()      MySelf:EmitSound("ambient/wind/wind_hit2.wav", 65, 170, 0.4)     MySelf:EmitSound("buttons/lever7.wav", 65, 40, 0.6)      GAMEMODE:ShowRewardPanel() end)  net.Receive("zs_bountyclaim", function()     my_bounties = {}      MySelf:EmitSound("buttons/lever6.wav", 65, 60, 0.5)      GAMEMODE.RewardPanel:SetVisible(false)     GAMEMODE.RewardPanel = nil end)  function GM:ShowRewardPanel()     local screenscale = BetterScreenScale()     local wid, hei = math.min(ScrW(), 1024) * screenscale, math.min(ScrH(), 600) * screenscale      local frame = vgui.Create("DFrame")     frame:SetDeleteOnClose(false)     frame:SetSize(wid, hei)     frame:SetTitle(" ")     frame:Center()          GAMEMODE.RewardPanel = frame      local y = 8      local title = EasyLabel(frame, "Choose Reward", "ZSHUDFont", color_white)     title:SetPos(wid * 0.5 - title:GetWide() * 0.5, y)      for i = 1, 2 do         local spooky_skull = vgui.Create("DImage", frame)         spooky_skull:SetImage("zombiesurvival/horderally")         spooky_skull:SetSize(64 * screenscale, 64 * screenscale)         spooky_skull:CenterHorizontal(i == 1 and 0.2 or 0.8)         spooky_skull:SetImageColor(Color(100, 20, 100, 150))     end          frame.Title = title      local trinket_rewards = {}     for i = 1, 3 do         if my_bounties[i] then             trinket_rewards[i] = CreateRewardPanelTrinket(frame, i, my_bounties[i])         end     end      frame:MakePopup() end